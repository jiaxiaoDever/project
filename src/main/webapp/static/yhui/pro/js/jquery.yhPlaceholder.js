/*!
* yhui 1.3.0beta
* jquery.yhPlaceholder.js
* 2013-04-23
*/
(function(t){t.widget("yhui.yhPlaceholder",{version:"1.3.0beta",defaultElement:"<input>",options:{placeholder:""},_create:function(){this._holderParse()},_holderParse:function(){this._checkPlaceholder()||(this.holderText=this.options.placeholder?this.options.placeholder:this.element.attr("placeholder"),this.holderText&&(this._addHolder(),this._holderBindEvent()))},_holderBindEvent:function(){var e=this;this.element.on("focusin"+this.eventNamespace,function(){e._removeHolder()}).on("focusout"+this.eventNamespace,function(){e._addHolder()}).on("keyup"+this.eventNamespace,function(i){(i.keyCode===t.ui.keyCode.DELETE||i.keyCode===t.ui.keyCode.BACKSPACE)&&e._addHolder(!0)}).on("keydown"+this.eventNamespace,function(){e.element.hasClass("yhui-placeholder")&&e._removeHolder()})},_addHolder:function(t){""===this.element.val()&&(this.element.addClass("yhui-placeholder").val(this.holderText),t&&this._fixCaret())},_removeHolder:function(){this.element.val()===this.holderText&&this.element.removeClass("yhui-placeholder").val("")},_checkPlaceholder:function(){var t=this.document[0].createElement("input"),e="placeholder"in t;return t=null,e},_fixCaret:function(){if(this.element[0].selectionStart)this.element[0].selectionStart=0,this.element[0].selectionEnd=0;else{var t=this.element[0].createTextRange();t.collapse(!0),t.moveStart("character",0),t.moveEnd("character",0),t.select()}}})})(jQuery);