/*!
* jquery.layout 1.3.0 - Release Candidate 30.79
* 2013-04-23
*/
(function($){var min=Math.min,max=Math.max,round=Math.floor,isStr=function(e){return"string"===$.type(e)},runPluginCallbacks=function(Instance,a_fn){function g(e){return e}if($.isArray(a_fn))for(var i=0,c=a_fn.length;c>i;i++){var fn=a_fn[i];try{isStr(fn)&&(fn=eval(fn)),$.isFunction(fn)&&g(fn)(Instance)}catch(ex){}}};$.layout={version:"1.3.rc30.79",revision:.033007,browser:{},effects:{slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}},blind:{},clip:{},explode:{},fade:{},fold:{},puff:{},size:{all:{easing:"swing"}}},config:{optionRootKeys:"effects,panes,north,south,west,east,center".split(","),allPanes:"north,south,west,east,center".split(","),borderPanes:"north,south,west,east".split(","),oppositeEdge:{north:"south",south:"north",east:"west",west:"east"},offscreenCSS:{left:"-99999px",right:"auto"},offscreenReset:"offscreenReset",hidden:{visibility:"hidden"},visible:{visibility:"visible"},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"}},south:{side:"bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{side:"right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{side:"left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},callbacks:{},getParentPaneElem:function(e){var t=$(e),i=t.data("layout")||t.data("parentLayout");if(i){var a=i.container;if(a.data("layoutPane"))return a;var r=a.closest("."+$.layout.defaults.panes.paneClass);if(r.data("layoutPane"))return r}return null},getParentPaneInstance:function(e){var t=$.layout.getParentPaneElem(e);return t?t.data("layoutPane"):null},getParentLayoutInstance:function(e){var t=$.layout.getParentPaneElem(e);return t?t.data("parentLayout"):null},getEventObject:function(e){return"object"==typeof e&&e.stopPropagation?e:null},parsePaneName:function(e){var t=$.layout.getEventObject(e),i=e;return t&&(t.stopPropagation(),i=$(this).data("layoutEdge")),i&&!/^(west|east|north|south|center)$/.test(i)&&($.layout.msg('LAYOUT ERROR - Invalid pane-name: "'+i+'"'),i="error"),i},plugins:{draggable:!!$.fn.draggable,effects:{core:!!$.effects,slide:$.effects&&($.effects.slide||$.effects.effect&&$.effects.effect.slide)}},onCreate:[],onLoad:[],onReady:[],onDestroy:[],onUnload:[],afterOpen:[],afterClose:[],scrollbarWidth:function(){return window.scrollbarWidth||$.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||$.layout.getScrollbarSize("height")},getScrollbarSize:function(e){var t=$('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),i={width:t.css("width")-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),window.scrollbarWidth=i.width,window.scrollbarHeight=i.height,e.match(/^(width|height)$/)?i[e]:i},showInvisibly:function(e,t){if(e&&e.length&&(t||"none"===e.css("display"))){var i=e[0].style,a={display:i.display||"",visibility:i.visibility||""};return e.css({display:"block",visibility:"hidden"}),a}return{}},getElementDimensions:function(e,t){var i,a,r,n={css:{},inset:{}},s=n.css,o={bottom:0},l=$.layout.cssNum,d=e.offset();return n.offsetLeft=d.left,n.offsetTop=d.top,t||(t={}),$.each("Left,Right,Top,Bottom".split(","),function(l,d){i=s["border"+d]=$.layout.borderWidth(e,d),a=s["padding"+d]=$.layout.cssNum(e,"padding"+d),r=d.toLowerCase(),n.inset[r]=t[r]>=0?t[r]:a,o[r]=n.inset[r]+i}),s.width=e.width(),s.height=e.height(),s.top=l(e,"top",!0),s.bottom=l(e,"bottom",!0),s.left=l(e,"left",!0),s.right=l(e,"right",!0),n.outerWidth=e.outerWidth(),n.outerHeight=e.outerHeight(),n.innerWidth=max(0,n.outerWidth-o.left-o.right),n.innerHeight=max(0,n.outerHeight-o.top-o.bottom),n.layoutWidth=e.innerWidth(),n.layoutHeight=e.innerHeight(),n},getElementStyles:function(e,t){var i,a,r,n,s,o,l={},d=e[0].style,c=t.split(","),u="Top,Bottom,Left,Right".split(","),h="Color,Style,Width".split(",");for(n=0;c.length>n;n++)if(i=c[n],i.match(/(border|padding|margin)$/))for(s=0;4>s;s++)if(a=u[s],"border"===i)for(o=0;3>o;o++)r=h[o],l[i+a+r]=d[i+a+r];else l[i+a]=d[i+a];else l[i]=d[i];return l},cssWidth:function(e,t){if(0>=t)return 0;var i=$.layout.browser.boxModel?$.support.boxSizing?e.css("boxSizing"):"content-box":"border-box",a=$.layout.borderWidth,r=$.layout.cssNum,n=t;return"border-box"!==i&&(n-=a(e,"Left")+a(e,"Right")),"content-box"===i&&(n-=r(e,"paddingLeft")+r(e,"paddingRight")),max(0,n)},cssHeight:function(e,t){if(0>=t)return 0;var i=$.layout.browser.boxModel?$.support.boxSizing?e.css("boxSizing"):"content-box":"border-box",a=$.layout.borderWidth,r=$.layout.cssNum,n=t;return"border-box"!==i&&(n-=a(e,"Top")+a(e,"Bottom")),"content-box"===i&&(n-=r(e,"paddingTop")+r(e,"paddingBottom")),max(0,n)},cssNum:function(e,t,i){e.jquery||(e=$(e));var a=$.layout.showInvisibly(e),r=$.css(e[0],t,!0),n=i&&"auto"==r?r:Math.round(parseFloat(r)||0);return e.css(a),n},borderWidth:function(e,t){e.jquery&&(e=e[0]);var i="border"+t.substr(0,1).toUpperCase()+t.substr(1);return"none"===$.css(e,i+"Style",!0)?0:Math.round(parseFloat($.css(e,i+"Width",!0))||0)},isMouseOverElem:function(e,t){var i=$(t||this),a=i.offset(),r=a.top,n=a.left,s=n+i.outerWidth(),o=r+i.outerHeight(),l=e.pageX,d=e.pageY;return $.layout.browser.msie&&0>l&&0>d||l>=n&&s>=l&&d>=r&&o>=d},msg:function(e,t,i,a){function r(){var e=$.support.fixedPosition?"fixed":"absolute",t=$('<div id="layoutLogger" style="position: '+e+'; top: 5px; z-index: 999999; max-width: 25%; overflow: hidden; border: 1px solid #000; border-radius: 5px; background: #FBFBFB; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">'+'<div style="font-size: 13px; font-weight: bold; padding: 5px 10px; background: #F6F6F6; border-radius: 5px 5px 0 0; cursor: move;">'+'<span style="float: right; padding-left: 7px; cursor: pointer;" title="Remove Console" onclick="$(this).closest(\'#layoutLogger\').remove()">X</span>Layout console.log</div>'+'<ul style="font-size: 13px; font-weight: none; list-style: none; margin: 0; padding: 0 0 2px;"></ul>'+"</div>").appendTo("body");return t.css("left",$(window).width()-t.outerWidth()-5),$.ui.draggable&&t.draggable({handle:":first-child"}),t}if($.isPlainObject(e)&&window.debugData){"string"==typeof t?(a=i,i=t):"object"==typeof i&&(a=i,i=null);var n=i||"log( <object> )",s=$.extend({sort:!1,returnHTML:!1,display:!1},a);t===!0||s.display?debugData(e,n,s):window.console&&console.log(debugData(e,n,s))}else if(t)alert(e);else if(window.console)console.log(e);else{var o="#layoutLogger",l=$(o);l.length||(l=r()),l.children("ul").append('<li style="padding: 4px 10px; margin: 0; border-top: 1px solid #CCC;">'+e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</li>")}}};var u=navigator.userAgent.toLowerCase(),m=/(chrome)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+)/.exec(u)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(u)||/(msie) ([\w.]+)/.exec(u)||0>u.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(u)||[],b=m[1]||"",v=m[2]||0,ie="msie"===b;$.layout.browser={version:v,safari:"webkit"===b,webkit:"chrome"===b,msie:ie,isIE6:ie&&6==v,boxModel:!ie||$.support.boxModel!==!1},b&&($.layout.browser[b]=!0),ie&&$(function(){$.layout.browser.boxModel=$.support.boxModel}),$.layout.defaults={name:"",containerClass:"ui-layout-container",inset:null,scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,maskPanesEarly:!1,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,initPanes:!0,showErrorMessages:!0,showDebugMessages:!1,zIndex:null,zIndexes:{pane_normal:0,content_mask:1,resizer_normal:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},errors:{pane:"pane",selector:"selector",addButtonError:"Error Adding Button\nInvalid ",containerMissing:"UI Layout Initialization Error\nThe specified layout-container does not exist.",centerPaneMissing:"UI Layout Initialization Error\nThe center-pane element does not exist.\nThe center-pane is a required element.",noContainerHeight:"UI Layout Initialization Warning\nThe layout-container \"CONTAINER\" has no height.\nTherefore the layout is 0-height and hence 'invisible'!",callbackError:"UI Layout Callback Error\nThe EVENT callback is not a valid function."},panes:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskContents:!1,maskObjects:!1,maskZindex:null,resizingGrid:!1,livePaneResizing:!1,liveContentResizing:!1,liveResizingTolerance:1,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:!1,preventQuickSlideClose:$.layout.browser.webkit,preventPrematureSlideClose:!1,tips:{Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",noRoomToOpen:"Not enough room to show this panel.",minSizeWarning:"Panel has reached its minimum size",maxSizeWarning:"Panel has reached its maximum size"},showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,animatePaneSizing:!1,children:null,containerSelector:"",initChildren:!0,destroyChildren:!0,resizeChildren:!0,triggerEventsOnLoad:!1,triggerEventsDuringLiveResize:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0}},$.layout.optionsMap={layout:"name,instanceKey,stateManagement,effects,inset,zIndexes,errors,zIndex,scrollToBookmarkOnLoad,showErrorMessages,maskPanesEarly,outset,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,onresizeall,onresizeall_start,onresizeall_end,onload,onload_start,onload_end,onunload,onunload_start,onunload_end".split(","),center:"paneClass,contentSelector,contentIgnoreSelector,findNestedContent,applyDemoStyles,triggerEventsOnLoad,showOverflowOnHover,maskContents,maskObjects,liveContentResizing,containerSelector,children,initChildren,resizeChildren,destroyChildren,onresize,onresize_start,onresize_end,onsizecontent,onsizecontent_start,onsizecontent_end".split(","),noDefault:"paneSelector,resizerCursor,customHotkey".split(",")},$.layout.transformData=function(e,t){var i,a,r,n,s,o,l,d=t?{panes:{},center:{}}:{};if("object"!=typeof e)return d;for(a in e)for(i=d,s=e[a],r=a.split("__"),l=r.length-1,o=0;l>=o;o++)n=r[o],o===l?i[n]=$.isPlainObject(s)?$.layout.transformData(s):s:(i[n]||(i[n]={}),i=i[n]);return d},$.layout.backwardCompatibility={map:{applyDefaultStyles:"applyDemoStyles",childOptions:"children",initChildLayout:"initChildren",destroyChildLayout:"destroyChildren",resizeChildLayout:"resizeChildren",resizeNestedLayout:"resizeChildren",resizeWhileDragging:"livePaneResizing",resizeContentWhileDragging:"liveContentResizing",triggerEventsWhileDragging:"triggerEventsDuringLiveResize",maskIframesOnResize:"maskContents",useStateCookie:"stateManagement.enabled","cookie.autoLoad":"stateManagement.autoLoad","cookie.autoSave":"stateManagement.autoSave","cookie.keys":"stateManagement.stateKeys","cookie.name":"stateManagement.cookie.name","cookie.domain":"stateManagement.cookie.domain","cookie.path":"stateManagement.cookie.path","cookie.expires":"stateManagement.cookie.expires","cookie.secure":"stateManagement.cookie.secure",noRoomToOpenTip:"tips.noRoomToOpen",togglerTip_open:"tips.Close",togglerTip_closed:"tips.Open",resizerTip:"tips.Resize",sliderTip:"tips.Slide"},renameOptions:function(e){function t(t,i){for(var a,r=t.split("."),n=r.length-1,s={branch:e,key:r[n]},o=0;n>o;o++)a=r[o],s.branch=void 0==s.branch[a]?i?s.branch[a]={}:{}:s.branch[a];return s}var i,a,r,n=$.layout.backwardCompatibility.map;for(var s in n)i=t(s),r=i.branch[i.key],void 0!==r&&(a=t(n[s],!0),a.branch[a.key]=r,delete i.branch[i.key])},renameAllOptions:function(e){var t=$.layout.backwardCompatibility.renameOptions;return t(e),e.defaults&&("object"!=typeof e.panes&&(e.panes={}),$.extend(!0,e.panes,e.defaults),delete e.defaults),e.panes&&t(e.panes),$.each($.layout.config.allPanes,function(i,a){e[a]&&t(e[a])}),e}},$.fn.layout=function(opts){function keyDown(e){if(!e)return!0;var t=e.keyCode;if(33>t)return!0;var i,a,r,n,s={38:"north",40:"south",37:"west",39:"east"},o=(e.altKey,e.shiftKey),l=e.ctrlKey,d=l&&t>=37&&40>=t;return d&&options[s[t]].enableCursorHotkey?n=s[t]:(l||o)&&$.each(_c.borderPanes,function(e,s){return i=options[s],a=i.customHotkey,r=i.customHotkeyModifier,(o&&"SHIFT"==r||l&&"CTRL"==r||l&&o)&&a&&t===(isNaN(a)||9>=a?a.toUpperCase().charCodeAt(0):a)?(n=s,!1):void 0}),n&&$Ps[n]&&options[n].closable&&!state[n].isHidden?(toggle(n),e.stopPropagation(),e.returnValue=!1,!1):!0}function allowOverflow(e){if(isInitialized()){this&&this.tagName&&(e=this);var t;if(isStr(e)?t=$Ps[e]:$(e).data("layoutRole")?t=$(e):$(e).parents().each(function(){return $(this).data("layoutRole")?(t=$(this),!1):void 0}),t&&t.length){var i=t.data("layoutEdge"),a=state[i];if(a.cssSaved&&resetOverflow(i),a.isSliding||a.isResizing||a.isClosed)return a.cssSaved=!1,void 0;var r={zIndex:options.zIndexes.resizer_normal+1},n={},s=t.css("overflow"),o=t.css("overflowX"),l=t.css("overflowY");"visible"!=s&&(n.overflow=s,r.overflow="visible"),o&&!o.match(/(visible|auto)/)&&(n.overflowX=o,r.overflowX="visible"),l&&!l.match(/(visible|auto)/)&&(n.overflowY=o,r.overflowY="visible"),a.cssSaved=n,t.css(r),$.each(_c.allPanes,function(e,t){t!=i&&resetOverflow(t)})}}}function resetOverflow(e){if(isInitialized()){this&&this.tagName&&(e=this);var t;if(isStr(e)?t=$Ps[e]:$(e).data("layoutRole")?t=$(e):$(e).parents().each(function(){return $(this).data("layoutRole")?(t=$(this),!1):void 0}),t&&t.length){var i=t.data("layoutEdge"),a=state[i],r=a.cssSaved||{};a.isSliding||a.isResizing||t.css("zIndex",options.zIndexes.pane_normal),t.css(r),a.cssSaved=!1}}}var browser=$.layout.browser,_c=$.layout.config,cssW=$.layout.cssWidth,cssH=$.layout.cssHeight,elDims=$.layout.getElementDimensions,styles=$.layout.getElementStyles,evtObj=$.layout.getEventObject,evtPane=$.layout.parsePaneName,options=$.extend(!0,{},$.layout.defaults),effects=options.effects=$.extend(!0,{},$.layout.effects),state={id:"layout"+$.now(),initialized:!1,paneResizing:!1,panesSliding:{},container:{innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,layoutWidth:0,layoutHeight:0},north:{childIdx:0},south:{childIdx:0},east:{childIdx:0},west:{childIdx:0},center:{childIdx:0}},children={north:null,south:null,east:null,west:null,center:null},timer={data:{},set:function(e,t,i){timer.clear(e),timer.data[e]=setTimeout(t,i)},clear:function(e){var t=timer.data;t[e]&&(clearTimeout(t[e]),delete t[e])}},_log=function(e,t,i){var a=options;return(a.showErrorMessages&&!i||i&&a.showDebugMessages)&&$.layout.msg(a.name+" / "+e,t!==!1),!1},_runCallbacks=function(evtName,pane,skipBoundEvents){function g(e){return e}var hasPane=pane&&isStr(pane),s=hasPane?state[pane]:state,o=hasPane?options[pane]:options,lName=options.name,lng=evtName+(evtName.match(/_/)?"":"_end"),shrt=lng.match(/_end$/)?lng.substr(0,lng.length-4):"",fn=o[lng]||o[shrt],retVal="NC",args=[],$P;if(hasPane||"boolean"!==$.type(pane)||(skipBoundEvents=pane,pane=""),fn)try{isStr(fn)&&(fn.match(/,/)?(args=fn.split(","),fn=eval(args[0])):fn=eval(fn)),$.isFunction(fn)&&(retVal=args.length?g(fn)(args[1]):hasPane?g(fn)(pane,$Ps[pane],s,o,lName):g(fn)(Instance,s,o,lName))}catch(ex){_log(options.errors.callbackError.replace(/EVENT/,$.trim((pane||"")+" "+lng)),!1),"string"===$.type(ex)&&string.length&&_log("Exception:  "+ex,!1)}return skipBoundEvents||retVal===!1||(hasPane?($P=$Ps[pane],o=options[pane],s=state[pane],$P.triggerHandler("layoutpane"+lng,[pane,$P,s,o,lName]),shrt&&$P.triggerHandler("layoutpane"+shrt,[pane,$P,s,o,lName])):($N.triggerHandler("layout"+lng,[Instance,s,o,lName]),shrt&&$N.triggerHandler("layout"+shrt,[Instance,s,o,lName]))),hasPane&&"onresize_end"===evtName&&resizeChildren(pane+"",!0),retVal},_fixIframe=function(e){if(!browser.mozilla){var t=$Ps[e];"IFRAME"===state[e].tagName?t.css(_c.hidden).css(_c.visible):t.find("IFRAME").css(_c.hidden).css(_c.visible)}},cssSize=function(e,t){var i="horz"==_c[e].dir?cssH:cssW;return i($Ps[e],t)},cssMinDims=function(e){var t=$Ps[e],i=_c[e].dir,a={minWidth:1001-cssW(t,1e3),minHeight:1001-cssH(t,1e3)};return"horz"===i&&(a.minSize=a.minHeight),"vert"===i&&(a.minSize=a.minWidth),a},setOuterWidth=function(e,t,i){var a,r=e;isStr(e)?r=$Ps[e]:e.jquery||(r=$(e)),a=cssW(r,t),r.css({width:a}),a>0?i&&r.data("autoHidden")&&r.innerHeight()>0&&(r.show().data("autoHidden",!1),browser.mozilla||r.css(_c.hidden).css(_c.visible)):i&&!r.data("autoHidden")&&r.hide().data("autoHidden",!0)},setOuterHeight=function(e,t,i){var a,r=e;isStr(e)?r=$Ps[e]:e.jquery||(r=$(e)),a=cssH(r,t),r.css({height:a,visibility:"visible"}),a>0&&r.innerWidth()>0?i&&r.data("autoHidden")&&(r.show().data("autoHidden",!1),browser.mozilla||r.css(_c.hidden).css(_c.visible)):i&&!r.data("autoHidden")&&r.hide().data("autoHidden",!0)},_parseSize=function(e,t,i){if(i||(i=_c[e].dir),isStr(t)&&t.match(/%/)&&(t="100%"===t?-1:parseInt(t,10)/100),0===t)return 0;if(t>=1)return parseInt(t,10);var a=options,r=0;if("horz"==i?r=sC.innerHeight-($Ps.north?a.north.spacing_open:0)-($Ps.south?a.south.spacing_open:0):"vert"==i&&(r=sC.innerWidth-($Ps.west?a.west.spacing_open:0)-($Ps.east?a.east.spacing_open:0)),-1===t)return r;if(t>0)return round(r*t);if("center"==e)return 0;var n="horz"===i?"height":"width",s=$Ps[e],o="height"===n?$Cs[e]:!1,l=$.layout.showInvisibly(s),d=s.css(n),c=o?o.css(n):0;return s.css(n,"auto"),o&&o.css(n,"auto"),t="height"===n?s.outerHeight():s.outerWidth(),s.css(n,d).css(l),o&&o.css(n,c),t},getPaneSize=function(e,t){var i=$Ps[e],a=options[e],r=state[e],n=t?a.spacing_open:0,s=t?a.spacing_closed:0;return!i||r.isHidden?0:r.isClosed||r.isSliding&&t?s:"horz"===_c[e].dir?i.outerHeight()+n:i.outerWidth()+n},setSizeLimits=function(e,t){if(isInitialized()){var i=options[e],a=state[e],r=_c[e],n=r.dir,s=(r.sizeType.toLowerCase(),void 0!=t?t:a.isSliding),o=($Ps[e],i.spacing_open),l=_c.oppositeEdge[e],d=state[l],c=$Ps[l],u=!c||d.isVisible===!1||d.isSliding?0:"horz"==n?c.outerHeight():c.outerWidth(),h=(!c||d.isHidden?0:options[l][d.isClosed!==!1?"spacing_closed":"spacing_open"])||0,p="horz"==n?sC.innerHeight:sC.innerWidth,f=cssMinDims("center"),g="horz"==n?max(options.center.minHeight,f.minHeight):max(options.center.minWidth,f.minWidth),m=p-o-(s?0:_parseSize("center",g,n)+u+h),v=a.minSize=max(_parseSize(e,i.minSize),cssMinDims(e).minSize),b=a.maxSize=min(i.maxSize?_parseSize(e,i.maxSize):1e5,m),y=a.resizerPosition={},_=sC.inset.top,w=sC.inset.left,C=sC.innerWidth,k=sC.innerHeight,j=i.spacing_open;switch(e){case"north":y.min=_+v,y.max=_+b;break;case"west":y.min=w+v,y.max=w+b;break;case"south":y.min=_+k-b-j,y.max=_+k-v-j;break;case"east":y.min=w+C-b-j,y.max=w+C-v-j}}},calcNewCenterPaneDims=function(){var e={top:getPaneSize("north",!0),bottom:getPaneSize("south",!0),left:getPaneSize("west",!0),right:getPaneSize("east",!0),width:0,height:0};return e.width=sC.innerWidth-e.left-e.right,e.height=sC.innerHeight-e.bottom-e.top,e.top+=sC.inset.top,e.bottom+=sC.inset.bottom,e.left+=sC.inset.left,e.right+=sC.inset.right,e},getHoverClasses=function(e,t){var i=$(e),a=i.data("layoutRole"),r=i.data("layoutEdge"),n=options[r],s=n[a+"Class"],o="-"+r,l="-open",d="-closed",c="-sliding",u="-hover ",h=i.hasClass(s+d)?d:l,p=h===d?l:d,f=s+u+(s+o+u)+(s+h+u)+(s+o+h+u);return t&&(f+=s+p+u+(s+o+p+u)),"resizer"==a&&i.hasClass(s+c)&&(f+=s+c+u+(s+o+c+u)),$.trim(f)},addHover=function(e,t){var i=$(t||this);e&&"toggler"===i.data("layoutRole")&&e.stopPropagation(),i.addClass(getHoverClasses(i))},removeHover=function(e,t){var i=$(t||this);i.removeClass(getHoverClasses(i,!0))},onResizerEnter=function(){var e=$(this).data("layoutEdge"),t=state[e];t.isClosed||t.isResizing||state.paneResizing||($.fn.disableSelection&&$("body").disableSelection(),options.maskPanesEarly&&showMasks(e,{resizing:!0}))},onResizerLeave=function(e,t){var i=t||this,a=$(i).data("layoutEdge"),r=a+"ResizerLeave";timer.clear(a+"_openSlider"),timer.clear(r),t?state.paneResizing||($.fn.enableSelection&&$("body").enableSelection(),options.maskPanesEarly&&hideMasks()):timer.set(r,function(){onResizerLeave(e,i)},200)},_create=function(){initOptions();var e=options,t=state;return t.creatingLayout=!0,runPluginCallbacks(Instance,$.layout.onCreate),!1===_runCallbacks("onload_start")?"cancel":(_initContainer(),initHotkeys(),$(window).bind("unload."+sID,unload),runPluginCallbacks(Instance,$.layout.onLoad),e.initPanes&&_initLayoutElements(),delete t.creatingLayout,state.initialized)},isInitialized=function(){return state.initialized||state.creatingLayout?!0:_initLayoutElements()},_initLayoutElements=function(e){var t=options;if(!$N.is(":visible"))return!e&&browser.webkit&&"BODY"===$N[0].tagName&&setTimeout(function(){_initLayoutElements(!0)},50),!1;if(!getPane("center").length)return _log(t.errors.centerPaneMissing);if(state.creatingLayout=!0,$.extend(sC,elDims($N,t.inset)),initPanes(),t.scrollToBookmarkOnLoad){var i=self.location;i.hash&&i.replace(i.hash)}return Instance.hasParentLayout?t.resizeWithWindow=!1:t.resizeWithWindow&&$(window).bind("resize."+sID,windowResize),delete state.creatingLayout,state.initialized=!0,runPluginCallbacks(Instance,$.layout.onReady),_runCallbacks("onload_end"),!0},createChildren=function(e,t){var i=evtPane.call(this,e),a=$Ps[i];if(a){var r=$Cs[i],n=state[i],s=options[i],o=options.stateManagement||{},l=t?s.children=t:s.children;if($.isPlainObject(l))l=[l];else if(!l||!$.isArray(l))return;$.each(l,function(e,t){if($.isPlainObject(t)){var s=t.containerSelector?a.find(t.containerSelector):r||a;s.each(function(){var e=$(this),a=e.data("layout");if(!a){if(setInstanceKey({container:e,options:t},n),o.includeChildren&&state.stateData[i]){var r=state.stateData[i].children||{},s=r[t.instanceKey],l=t.stateManagement||(t.stateManagement={autoLoad:!0});l.autoLoad===!0&&s&&(l.autoSave=!1,l.includeChildren=!0,l.autoLoad=$.extend(!0,{},s))}a=e.layout(t),a&&refreshChildren(i,a)}})}})}},setInstanceKey=function(e,t){var i=e.container,a=e.options,r=a.stateManagement,n=a.instanceKey||i.data("layoutInstanceKey");return n||(n=(r&&r.cookie?r.cookie.name:"")||a.name),n=n?n.replace(/[^\w-]/gi,"_").replace(/_{2,}/g,"_"):"layout"+ ++t.childIdx,a.instanceKey=n,i.data("layoutInstanceKey",n),n},refreshChildren=function(e,t){var i,a=$Ps[e],r=children[e],n=state[e];$.isPlainObject(r)&&($.each(r,function(e,t){t.destroyed&&delete r[e]}),$.isEmptyObject(r)&&(r=children[e]=null)),t||r||(t=a.data("layout")),t&&(t.hasParentLayout=!0,i=t.options,setInstanceKey(t,n),r||(r=children[e]={}),r[i.instanceKey]=t.container.data("layout")),Instance[e].children=children[e],t||createChildren(e)},windowResize=function(){var e=options,t=Number(e.resizeWithWindowDelay);10>t&&(t=100),timer.clear("winResize"),timer.set("winResize",function(){timer.clear("winResize"),timer.clear("winResizeRepeater");var t=elDims($N,e.inset);(t.innerWidth!==sC.innerWidth||t.innerHeight!==sC.innerHeight)&&resizeAll()},t),timer.data.winResizeRepeater||setWindowResizeRepeater()},setWindowResizeRepeater=function(){var e=Number(options.resizeWithWindowMaxDelay);e>0&&timer.set("winResizeRepeater",function(){setWindowResizeRepeater(),resizeAll()},e)},unload=function(){_runCallbacks("onunload_start"),runPluginCallbacks(Instance,$.layout.onUnload),_runCallbacks("onunload_end")},_initContainer=function(){var e,t,i=$N[0],a=$("html"),r=sC.tagName=i.tagName,n=sC.id=i.id,s=sC.className=i.className,o=options,l=o.name,d="position,margin,padding,border",c="layoutCSS",u={},h="hidden",p=$N.data("parentLayout"),f=$N.data("layoutEdge"),g=p&&f,m=$.layout.cssNum;sC.selector=$N.selector.split(".slice")[0],sC.ref=(o.name?o.name+" layout / ":"")+r+(n?"#"+n:s?".["+s+"]":""),sC.isBody="BODY"===r,g||sC.isBody||(e=$N.closest("."+$.layout.defaults.panes.paneClass),p=e.data("parentLayout"),f=e.data("layoutEdge"),g=p&&f),$N.data({layout:Instance,layoutContainer:sID}).addClass(o.containerClass);var v={destroy:"",initPanes:"",resizeAll:"resizeAll",resize:"resizeAll"};for(l in v)$N.bind("layout"+l.toLowerCase()+"."+sID,Instance[v[l]||l]);g&&(Instance.hasParentLayout=!0,p.refreshChildren(f,Instance)),$N.data(c)||(sC.isBody?($N.data(c,$.extend(styles($N,d),{height:$N.css("height"),overflow:$N.css("overflow"),overflowX:$N.css("overflowX"),overflowY:$N.css("overflowY")})),a.data(c,$.extend(styles(a,"padding"),{height:"auto",overflow:a.css("overflow"),overflowX:a.css("overflowX"),overflowY:a.css("overflowY")}))):$N.data(c,styles($N,d+",top,bottom,left,right,width,height,overflow,overflowX,overflowY")));try{if(u={overflow:h,overflowX:h,overflowY:h},$N.css(u),o.inset&&!$.isPlainObject(o.inset)&&(t=parseInt(o.inset,10)||0,o.inset={top:t,bottom:t,left:t,right:t}),sC.isBody)o.outset?$.isPlainObject(o.outset)||(t=parseInt(o.outset,10)||0,o.outset={top:t,bottom:t,left:t,right:t}):o.outset={top:m(a,"paddingTop"),bottom:m(a,"paddingBottom"),left:m(a,"paddingLeft"),right:m(a,"paddingRight")},a.css(u).css({height:"100%",border:"none",padding:0,margin:0}),browser.isIE6?($N.css({width:"100%",height:"100%",border:"none",padding:0,margin:0,position:"relative"}),o.inset||(o.inset=elDims($N).inset)):($N.css({width:"auto",height:"auto",margin:0,position:"absolute"}),$N.css(o.outset)),$.extend(sC,elDims($N,o.inset));else{var b=$N.css("position");b&&b.match(/(fixed|absolute|relative)/)||$N.css("position","relative"),$N.is(":visible")&&($.extend(sC,elDims($N,o.inset)),1>sC.innerHeight&&_log(o.errors.noContainerHeight.replace(/CONTAINER/,sC.ref)))}m($N,"minWidth")&&$N.parent().css("overflowX","auto"),m($N,"minHeight")&&$N.parent().css("overflowY","auto")}catch(y){}},initHotkeys=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var i=options[t];return i.enableCursorHotkey||i.customHotkey?($(document).bind("keydown."+sID,keyDown),!1):void 0})},initOptions=function(){function e(e){var t=options[e],i=options.panes;t.fxSettings||(t.fxSettings={}),i.fxSettings||(i.fxSettings={}),$.each(["_open","_close","_size"],function(a,r){var n="fxName"+r,s="fxSpeed"+r,o="fxSettings"+r,l=t[n]=t[n]||i[n]||t.fxName||i.fxName||"none",d=$.effects&&($.effects[l]||$.effects.effect&&$.effects.effect[l]);"none"!==l&&options.effects[l]&&d||(l=t[n]="none");var c=options.effects[l]||{},u=c.all||null,h=c[e]||null;t[s]=t[s]||i[s]||t.fxSpeed||i.fxSpeed||null,t[o]=$.extend(!0,{},u,h,i.fxSettings,t.fxSettings,i[o],t[o])}),delete t.fxName,delete t.fxSpeed,delete t.fxSettings}var t,i,a,r,n,s,o;if(opts=$.layout.transformData(opts,!0),opts=$.layout.backwardCompatibility.renameAllOptions(opts),!$.isEmptyObject(opts.panes)){for(t=$.layout.optionsMap.noDefault,n=0,s=t.length;s>n;n++)a=t[n],delete opts.panes[a];for(t=$.layout.optionsMap.layout,n=0,s=t.length;s>n;n++)a=t[n],delete opts.panes[a]}t=$.layout.optionsMap.layout;var l=$.layout.config.optionRootKeys;for(a in opts)r=opts[a],0>$.inArray(a,l)&&0>$.inArray(a,t)&&(opts.panes[a]||(opts.panes[a]=$.isPlainObject(r)?$.extend(!0,{},r):r),delete opts[a]);$.extend(!0,options,opts),$.each(_c.allPanes,function(r,n){if(_c[n]=$.extend(!0,{},_c.panes,_c[n]),i=options.panes,o=options[n],"center"===n)for(t=$.layout.optionsMap.center,r=0,s=t.length;s>r;r++)a=t[r],opts.center[a]||!opts.panes[a]&&o[a]||(o[a]=i[a]);else o=options[n]=$.extend(!0,{},i,o),e(n),o.resizerClass||(o.resizerClass="ui-layout-resizer"),o.togglerClass||(o.togglerClass="ui-layout-toggler");o.paneClass||(o.paneClass="ui-layout-pane")});var d=opts.zIndex,c=options.zIndexes;d>0&&(c.pane_normal=d,c.content_mask=max(d+1,c.content_mask),c.resizer_normal=max(d+2,c.resizer_normal)),delete options.panes},getPane=function(e){var t=options[e].paneSelector;if("#"===t.substr(0,1))return $N.find(t).eq(0);var i=$N.children(t).eq(0);return i.length?i:$N.children("form:first").children(t).eq(0)},initPanes=function(e){evtPane(e),$.each(_c.allPanes,function(e,t){addPane(t,!0)}),initHandles(),$.each(_c.borderPanes,function(e,t){$Ps[t]&&state[t].isVisible&&(setSizeLimits(t),makePaneFit(t))}),sizeMidPanes("center"),$.each(_c.allPanes,function(e,t){afterInitPane(t)})},addPane=function(e,t){if(t||isInitialized()){var i,a,r,n=options[e],s=state[e],o=_c[e],l=o.dir,d=(s.fx,n.spacing_open||0,"center"===e),c={},u=$Ps[e];if(u?removePane(e,!1,!0,!1):$Cs[e]=!1,u=$Ps[e]=getPane(e),!u.length)return $Ps[e]=!1,void 0;if(!u.data("layoutCSS")){var h="position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border";u.data("layoutCSS",styles(u,h))}Instance[e]={name:e,pane:$Ps[e],content:$Cs[e],options:options[e],state:state[e],children:children[e]},u.data({parentLayout:Instance,layoutPane:Instance[e],layoutEdge:e,layoutRole:"pane"}).css(o.cssReq).css("zIndex",options.zIndexes.pane_normal).css(n.applyDemoStyles?o.cssDemo:{}).addClass(n.paneClass+" "+n.paneClass+"-"+e).bind("mouseenter."+sID,addHover).bind("mouseleave."+sID,removeHover);var p,f={hide:"",show:"",toggle:"",close:"",open:"",slideOpen:"",slideClose:"",slideToggle:"",size:"sizePane",sizePane:"sizePane",sizeContent:"",sizeHandles:"",enableClosable:"",disableClosable:"",enableSlideable:"",disableSlideable:"",enableResizable:"",disableResizable:"",swapPanes:"swapPanes",swap:"swapPanes",move:"swapPanes",removePane:"removePane",remove:"removePane",createChildren:"",resizeChildren:"",resizeAll:"resizeAll",resizeLayout:"resizeAll"};for(p in f)u.bind("layoutpane"+p.toLowerCase()+"."+sID,Instance[f[p]||p]);initContent(e,!1),d||(i=s.size=_parseSize(e,n.size),a=_parseSize(e,n.minSize)||1,r=_parseSize(e,n.maxSize)||1e5,i>0&&(i=max(min(i,r),a)),s.autoResize=n.autoResize,s.isClosed=!1,s.isSliding=!1,s.isResizing=!1,s.isHidden=!1,s.pins||(s.pins=[])),s.tagName=u[0].tagName,s.edge=e,s.noRoom=!1,s.isVisible=!0,setPanePosition(e),"horz"===l?c.height=cssH(u,i):"vert"===l&&(c.width=cssW(u,i)),u.css(c),"horz"!=l&&sizeMidPanes(e,!0),state.initialized&&(initHandles(e),initHotkeys(e)),n.initClosed&&n.closable&&!n.initHidden?close(e,!0,!0):n.initHidden||n.initClosed?hide(e):s.noRoom||u.css("display","block"),u.css("visibility","visible"),n.showOverflowOnHover&&u.hover(allowOverflow,resetOverflow),state.initialized&&afterInitPane(e)
}},afterInitPane=function(e){var t=$Ps[e],i=state[e],a=options[e];t&&(t.data("layout")&&refreshChildren(e,t.data("layout")),i.isVisible&&(state.initialized?resizeAll():sizeContent(e),a.triggerEventsOnLoad?_runCallbacks("onresize_end",e):resizeChildren(e,!0)),a.initChildren&&a.children&&createChildren(e))},setPanePosition=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var i=$Ps[t],a=$Rs[t],r=(options[t],state[t]),n=_c[t].side,s={};if(i){switch(t){case"north":s.top=sC.inset.top,s.left=sC.inset.left,s.right=sC.inset.right;break;case"south":s.bottom=sC.inset.bottom,s.left=sC.inset.left,s.right=sC.inset.right;break;case"west":s.left=sC.inset.left;break;case"east":s.right=sC.inset.right;break;case"center":}i.css(s),a&&r.isClosed?a.css(n,sC.inset[n]):a&&!r.isHidden&&a.css(n,sC.inset[n]+getPaneSize(t))}})},initHandles=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var i=$Ps[t];if($Rs[t]=!1,$Ts[t]=!1,i){var a=options[t],r=state[t],n=(_c[t],"#"===a.paneSelector.substr(0,1)?a.paneSelector.substr(1):""),s=a.resizerClass,o=a.togglerClass,l=(r.isVisible?a.spacing_open:a.spacing_closed,"-"+t),d=(r.isVisible?"-open":"-closed",Instance[t]),c=d.resizer=$Rs[t]=$("<div></div>"),u=d.toggler=a.closable?$Ts[t]=$("<div></div>"):!1;!r.isVisible&&a.slidable&&c.attr("title",a.tips.Slide).css("cursor",a.sliderCursor),c.attr("id",n?n+"-resizer":"").data({parentLayout:Instance,layoutPane:Instance[t],layoutEdge:t,layoutRole:"resizer"}).css(_c.resizers.cssReq).css("zIndex",options.zIndexes.resizer_normal).css(a.applyDemoStyles?_c.resizers.cssDemo:{}).addClass(s+" "+s+l).hover(addHover,removeHover).hover(onResizerEnter,onResizerLeave).appendTo($N),a.resizerDblClickToggle&&c.bind("dblclick."+sID,toggle),u&&(u.attr("id",n?n+"-toggler":"").data({parentLayout:Instance,layoutPane:Instance[t],layoutEdge:t,layoutRole:"toggler"}).css(_c.togglers.cssReq).css(a.applyDemoStyles?_c.togglers.cssDemo:{}).addClass(o+" "+o+l).hover(addHover,removeHover).bind("mouseenter",onResizerEnter).appendTo(c),a.togglerContent_open&&$("<span>"+a.togglerContent_open+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-open").css("display","none").appendTo(u),a.togglerContent_closed&&$("<span>"+a.togglerContent_closed+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).addClass("content content-closed").css("display","none").appendTo(u),enableClosable(t)),initResizable(t),r.isVisible?setAsOpen(t):(setAsClosed(t),bindStartSlidingEvents(t,!0))}}),sizeHandles()},initContent=function(e,t){if(isInitialized()){var i,a=options[e],r=a.contentSelector,n=Instance[e],s=$Ps[e];r&&(i=n.content=$Cs[e]=a.findNestedContent?s.find(r).eq(0):s.children(r).eq(0)),i&&i.length?(i.data("layoutRole","content"),i.data("layoutCSS")||i.data("layoutCSS",styles(i,"height")),i.css(_c.content.cssReq),a.applyDemoStyles&&(i.css(_c.content.cssDemo),s.css(_c.content.cssDemoPane)),s.css("overflowX").match(/(scroll|auto)/)&&s.css("overflow","hidden"),state[e].content={},t!==!1&&sizeContent(e)):n.content=$Cs[e]=!1}},initResizable=function(e){var t=$.layout.plugins.draggable;e=e?e.split(","):_c.borderPanes,$.each(e,function(e,a){var r=options[a];if(!t||!$Ps[a]||!r.resizable)return r.resizable=!1,!0;var n,s,o=state[a],l=options.zIndexes,d=_c[a],c="horz"==d.dir?"top":"left",u=($Ps[a],$Rs[a]),h=r.resizerClass,p=0,f=h+"-drag",g=h+"-"+a+"-drag",m=h+"-dragging",v=h+"-"+a+"-dragging",b=h+"-dragging-limit",y=h+"-"+a+"-dragging-limit",_=!1;o.isClosed||u.attr("title",r.tips.Resize).css("cursor",r.resizerCursor),u.draggable({containment:$N[0],axis:"horz"==d.dir?"y":"x",delay:0,distance:1,grid:r.resizingGrid,helper:"clone",opacity:r.resizerDragOpacity,addClasses:!1,zIndex:l.resizer_drag,start:function(e,t){return r=options[a],o=state[a],s=r.livePaneResizing,!1===_runCallbacks("ondrag_start",a)?!1:(o.isResizing=!0,state.paneResizing=a,timer.clear(a+"_closeSlider"),setSizeLimits(a),n=o.resizerPosition,p=t.position[c],u.addClass(f+" "+g),_=!1,$("body").disableSelection(),showMasks(a,{resizing:!0}),void 0)},drag:function(e,t){_||(t.helper.addClass(m+" "+v).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden"),_=!0,o.isSliding&&$Ps[a].css("zIndex",l.pane_sliding));var d=0;t.position[c]<n.min?(t.position[c]=n.min,d=-1):t.position[c]>n.max&&(t.position[c]=n.max,d=1),d?(t.helper.addClass(b+" "+y),window.defaultStatus=d>0&&a.match(/(north|west)/)||0>d&&a.match(/(south|east)/)?r.tips.maxSizeWarning:r.tips.minSizeWarning):(t.helper.removeClass(b+" "+y),window.defaultStatus=""),s&&Math.abs(t.position[c]-p)>=r.liveResizingTolerance&&(p=t.position[c],i(e,t,a))},stop:function(e,t){$("body").enableSelection(),window.defaultStatus="",u.removeClass(f+" "+g),o.isResizing=!1,state.paneResizing=!1,i(e,t,a,!0)}})});var i=function(e,t,i,a){var r,n=t.position,s=_c[i],o=options[i],l=state[i];switch(i){case"north":r=n.top;break;case"west":r=n.left;break;case"south":r=sC.layoutHeight-n.top-o.spacing_open;break;case"east":r=sC.layoutWidth-n.left-o.spacing_open}var d=r-sC.inset[s.side];if(a)!1!==_runCallbacks("ondrag_end",i)&&manualSizePane(i,d,!1,!0),hideMasks(!0),l.isSliding&&showMasks(i,{resizing:!0});else{if(Math.abs(d-l.size)<o.liveResizingTolerance)return;manualSizePane(i,d,!1,!0),sizeMasks()}}},sizeMask=function(){var e=$(this),t=e.data("layoutMask"),i=state[t];"IFRAME"==i.tagName&&i.isVisible&&e.css({top:i.offsetTop,left:i.offsetLeft,width:i.outerWidth,height:i.outerHeight})},sizeMasks=function(){$Ms.each(sizeMask)},showMasks=function(e,t){var i,a,r=_c[e],n=["center"],s=options.zIndexes,o=$.extend({objectsOnly:!1,animation:!1,resizing:!0,sliding:state[e].isSliding},t);o.resizing&&n.push(e),o.sliding&&n.push(_c.oppositeEdge[e]),"horz"===r.dir&&(n.push("west"),n.push("east")),$.each(n,function(e,t){a=state[t],i=options[t],a.isVisible&&(i.maskObjects||!o.objectsOnly&&i.maskContents)&&getMasks(t).each(function(){sizeMask.call(this),this.style.zIndex=a.isSliding?s.pane_sliding+1:s.pane_normal+1,this.style.display="block"})})},hideMasks=function(e){if(e||!state.paneResizing)$Ms.hide();else if(!e&&!$.isEmptyObject(state.panesSliding))for(var t,i,a=$Ms.length-1;a>=0;a--)i=$Ms.eq(a),t=i.data("layoutMask"),options[t].maskObjects||i.hide()},getMasks=function(e){for(var t,i=$([]),a=0,r=$Ms.length;r>a;a++)t=$Ms.eq(a),t.data("layoutMask")===e&&(i=i.add(t));return i.length?i:createMasks(e)},createMasks=function(e){var t,i,a,r,n,s=$Ps[e],o=state[e],l=options[e],d=options.zIndexes,c=$([]);if(!l.maskContents&&!l.maskObjects)return c;for(n=0;(l.maskObjects?2:1)>n;n++)t=l.maskObjects&&0==n,i=document.createElement(t?"iframe":"div"),a=$(i).data("layoutMask",e),i.className="ui-layout-mask ui-layout-mask-"+e,r=i.style,r.display="block",r.position="absolute",r.background="#FFF",t&&(i.frameborder=0,i.src="about:blank",r.opacity=0,r.filter="Alpha(Opacity='0')",r.border=0),"IFRAME"==o.tagName?(r.zIndex=d.pane_normal+1,$N.append(i)):(a.addClass("ui-layout-mask-inside-pane"),r.zIndex=l.maskZindex||d.content_mask,r.top=0,r.left=0,r.width="100%",r.height="100%",s.append(i)),c=c.add(i),$Ms=$Ms.add(i);return c},destroy=function(e,t){$(window).unbind("."+sID),$(document).unbind("."+sID),"object"==typeof e?evtPane(e):t=e,$N.clearQueue().removeData("layout").removeData("layoutContainer").removeClass(options.containerClass).unbind("."+sID),$Ms.remove(),$.each(_c.allPanes,function(e,i){removePane(i,!1,!0,t)});var i="layoutCSS";$N.data(i)&&!$N.data("layoutRole")&&$N.css($N.data(i)).removeData(i),"BODY"===sC.tagName&&($N=$("html")).data(i)&&$N.css($N.data(i)).removeData(i),runPluginCallbacks(Instance,$.layout.onDestroy),unload();for(var a in Instance)a.match(/^(container|options)$/)||delete Instance[a];return Instance.destroyed=!0,Instance},removePane=function(e,t,i,a){if(isInitialized()){var r=evtPane.call(this,e),n=$Ps[r],s=$Cs[r],o=$Rs[r],l=$Ts[r];n&&$.isEmptyObject(n.data())&&(n=!1),s&&$.isEmptyObject(s.data())&&(s=!1),o&&$.isEmptyObject(o.data())&&(o=!1),l&&$.isEmptyObject(l.data())&&(l=!1),n&&n.stop(!0,!0);var d=options[r],c=state[r],u="layout",h="layoutCSS",p=children[r],f=$.isPlainObject(p)&&!$.isEmptyObject(p),g=void 0!==a?a:d.destroyChildren;if(f&&g&&($.each(p,function(e,t){t.destroyed||t.destroy(!0),t.destroyed&&delete p[e]}),$.isEmptyObject(p)&&(p=children[r]=null,f=!1)),n&&t&&!f)n.remove();else if(n&&n[0]){var m=d.paneClass,v=m+"-"+r,b="-open",y="-sliding",_="-closed",w=[m,m+b,m+_,m+y,v,v+b,v+_,v+y];$.merge(w,getHoverClasses(n,!0)),n.removeClass(w.join(" ")).removeData("parentLayout").removeData("layoutPane").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+sID),f&&s?(s.width(s.width()),$.each(p,function(e,t){t.resizeAll()})):s&&s.css(s.data(h)).removeData(h).removeData("layoutRole"),n.data(u)||n.css(n.data(h)).removeData(h)}l&&l.remove(),o&&o.remove(),Instance[r]=$Ps[r]=$Cs[r]=$Rs[r]=$Ts[r]=!1,c={removed:!0},i||resizeAll()}},_hidePane=function(e){var t=$Ps[e],i=options[e],a=t[0].style;i.useOffscreenClose?(t.data(_c.offscreenReset)||t.data(_c.offscreenReset,{left:a.left,right:a.right}),t.css(_c.offscreenCSS)):t.hide().removeData(_c.offscreenReset)},_showPane=function(e){var t=$Ps[e],i=options[e],a=_c.offscreenCSS,r=t.data(_c.offscreenReset),n=t[0].style;t.show().removeData(_c.offscreenReset),i.useOffscreenClose&&r&&(n.left==a.left&&(n.left=r.left),n.right==a.right&&(n.right=r.right))},hide=function(e,t){if(isInitialized()){var i=evtPane.call(this,e),a=options[i],r=state[i],n=$Ps[i],s=$Rs[i];n&&!r.isHidden&&(state.initialized&&!1===_runCallbacks("onhide_start",i)||(r.isSliding=!1,delete state.panesSliding[i],s&&s.hide(),!state.initialized||r.isClosed?(r.isClosed=!0,r.isHidden=!0,r.isVisible=!1,state.initialized||_hidePane(i),sizeMidPanes("horz"===_c[i].dir?"":"center"),(state.initialized||a.triggerEventsOnLoad)&&_runCallbacks("onhide_end",i)):(r.isHiding=!0,close(i,!1,t))))}},show=function(e,t,i,a){if(isInitialized()){var r=evtPane.call(this,e),n=(options[r],state[r]),s=$Ps[r];$Rs[r],s&&n.isHidden&&!1!==_runCallbacks("onshow_start",r)&&(n.isShowing=!0,n.isSliding=!1,delete state.panesSliding[r],t===!1?close(r,!0):open(r,!1,i,a))}},toggle=function(e,t){if(isInitialized()){var i=evtObj(e),a=evtPane.call(this,e),r=state[a];i&&i.stopImmediatePropagation(),r.isHidden?show(a):r.isClosed?open(a,!!t):close(a)}},_closePane=function(e,t){var i=($Ps[e],state[e]);_hidePane(e),i.isClosed=!0,i.isVisible=!1,t&&setAsClosed(e)},close=function(e,t,i,a){function r(){h.isMoving=!1,bindStartSlidingEvents(n,!0);var e=_c.oppositeEdge[n];state[e].noRoom&&(setSizeLimits(e),makePaneFit(e)),a||!state.initialized&&!u.triggerEventsOnLoad||(o||_runCallbacks("onclose_end",n),o&&_runCallbacks("onshow_end",n),l&&_runCallbacks("onhide_end",n))}var n=evtPane.call(this,e);if(!state.initialized&&$Ps[n])return _closePane(n,!0),void 0;if(isInitialized()){var s,o,l,d,c=$Ps[n],u=($Rs[n],$Ts[n],options[n]),h=state[n];_c[n],$N.queue(function(e){if(!c||!u.closable&&!h.isShowing&&!h.isHiding||!t&&h.isClosed&&!h.isShowing)return e();var a=!h.isShowing&&!1===_runCallbacks("onclose_start",n);return o=h.isShowing,l=h.isHiding,d=h.isSliding,delete h.isShowing,delete h.isHiding,a?e():(s=!i&&!h.isClosed&&"none"!=u.fxName_close,h.isMoving=!0,h.isClosed=!0,h.isVisible=!1,l?h.isHidden=!0:o&&(h.isHidden=!1),h.isSliding?bindStopSlidingEvents(n,!1):sizeMidPanes("horz"===_c[n].dir?"":"center",!1),setAsClosed(n),s?(lockPaneForFX(n,!0),c.hide(u.fxName_close,u.fxSettings_close,u.fxSpeed_close,function(){lockPaneForFX(n,!1),h.isClosed&&r(),e()})):(_hidePane(n),r(),e()),void 0)})}},setAsClosed=function(e){if($Rs[e]){var t=($Ps[e],$Rs[e]),i=$Ts[e],a=options[e],r=(state[e],_c[e].side),n=a.resizerClass,s=a.togglerClass,o="-"+e,l="-open",d="-sliding",c="-closed";t.css(r,sC.inset[r]).removeClass(n+l+" "+n+o+l).removeClass(n+d+" "+n+o+d).addClass(n+c+" "+n+o+c),a.resizable&&$.layout.plugins.draggable&&t.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title",""),i&&(i.removeClass(s+l+" "+s+o+l).addClass(s+c+" "+s+o+c).attr("title",a.tips.Open),i.children(".content-open").hide(),i.children(".content-closed").css("display","block")),syncPinBtns(e,!1),state.initialized&&sizeHandles()}},open=function(e,t,i,a){function r(){c.isMoving=!1,_fixIframe(o),c.isSliding||sizeMidPanes("vert"==_c[o].dir?"center":"",!1),setAsOpen(o)}if(isInitialized()){var n,s,o=evtPane.call(this,e),l=$Ps[o],d=($Rs[o],$Ts[o],options[o]),c=state[o];_c[o],$N.queue(function(e){if(!l||!d.resizable&&!d.closable&&!c.isShowing||c.isVisible&&!c.isSliding)return e();if(c.isHidden&&!c.isShowing)return e(),show(o,!0),void 0;c.autoResize&&c.size!=d.size?sizePane(o,d.size,!0,!0,!0):setSizeLimits(o,t);var u=_runCallbacks("onopen_start",o);return"abort"===u?e():("NC"!==u&&setSizeLimits(o,t),c.minSize>c.maxSize?(syncPinBtns(o,!1),!a&&d.tips.noRoomToOpen&&alert(d.tips.noRoomToOpen),e()):(t?bindStopSlidingEvents(o,!0):c.isSliding?bindStopSlidingEvents(o,!1):d.slidable&&bindStartSlidingEvents(o,!1),c.noRoom=!1,makePaneFit(o),s=c.isShowing,delete c.isShowing,n=!i&&c.isClosed&&"none"!=d.fxName_open,c.isMoving=!0,c.isVisible=!0,c.isClosed=!1,s&&(c.isHidden=!1),n?(lockPaneForFX(o,!0),l.show(d.fxName_open,d.fxSettings_open,d.fxSpeed_open,function(){lockPaneForFX(o,!1),c.isVisible&&r(),e()})):(_showPane(o),r(),e()),void 0))})}},setAsOpen=function(e,t){var i=$Ps[e],a=$Rs[e],r=$Ts[e],n=options[e],s=state[e],o=_c[e].side,l=n.resizerClass,d=n.togglerClass,c="-"+e,u="-open",h="-closed",p="-sliding";a.css(o,sC.inset[o]+getPaneSize(e)).removeClass(l+h+" "+l+c+h).addClass(l+u+" "+l+c+u),s.isSliding?a.addClass(l+p+" "+l+c+p):a.removeClass(l+p+" "+l+c+p),removeHover(0,a),n.resizable&&$.layout.plugins.draggable?a.draggable("enable").css("cursor",n.resizerCursor).attr("title",n.tips.Resize):s.isSliding||a.css("cursor","default"),r&&(r.removeClass(d+h+" "+d+c+h).addClass(d+u+" "+d+c+u).attr("title",n.tips.Close),removeHover(0,r),r.children(".content-closed").hide(),r.children(".content-open").css("display","block")),syncPinBtns(e,!s.isSliding),$.extend(s,elDims(i)),state.initialized&&(sizeHandles(),sizeContent(e,!0)),!t&&(state.initialized||n.triggerEventsOnLoad)&&i.is(":visible")&&(_runCallbacks("onopen_end",e),s.isShowing&&_runCallbacks("onshow_end",e),state.initialized&&_runCallbacks("onresize_end",e))},slideOpen=function(e){function t(){r.isClosed?r.isMoving||open(a,!0):bindStopSlidingEvents(a,!0)}if(isInitialized()){var i=evtObj(e),a=evtPane.call(this,e),r=state[a],n=options[a].slideDelay_open;i&&i.stopImmediatePropagation(),r.isClosed&&i&&"mouseenter"===i.type&&n>0?timer.set(a+"_openSlider",t,n):t()}},slideClose=function(e){function t(){n.isClosed?bindStopSlidingEvents(a,!1):n.isMoving||close(a)}if(isInitialized()){var i=evtObj(e),a=evtPane.call(this,e),r=options[a],n=state[a],s=n.isMoving?1e3:300;if(!n.isClosed&&!n.isResizing)if("click"===r.slideTrigger_close)t();else{if(r.preventQuickSlideClose&&n.isMoving)return;if(r.preventPrematureSlideClose&&i&&$.layout.isMouseOverElem(i,$Ps[a]))return;i?timer.set(a+"_closeSlider",t,max(r.slideDelay_close,s)):t()}}},slideToggle=function(e){var t=evtPane.call(this,e);toggle(t,!0)},lockPaneForFX=function(e,t){var i=$Ps[e],a=state[e],r=options[e],n=options.zIndexes;t?(showMasks(e,{animation:!0,objectsOnly:!0}),i.css({zIndex:n.pane_animate}),"south"==e?i.css({top:sC.inset.top+sC.innerHeight-i.outerHeight()}):"east"==e&&i.css({left:sC.inset.left+sC.innerWidth-i.outerWidth()})):(hideMasks(),i.css({zIndex:a.isSliding?n.pane_sliding:n.pane_normal}),"south"==e?i.css({top:"auto"}):"east"!=e||i.css("left").match(/\-99999/)||i.css({left:"auto"}),browser.msie&&r.fxOpacityFix&&"slide"!=r.fxName_open&&i.css("filter")&&1==i.css("opacity")&&i[0].style.removeAttribute("filter"))},bindStartSlidingEvents=function(e,t){var i=options[e],a=($Ps[e],$Rs[e]),r=i.slideTrigger_open.toLowerCase();!a||t&&!i.slidable||(r.match(/mouseover/)?r=i.slideTrigger_open="mouseenter":r.match(/(click|dblclick|mouseenter)/)||(r=i.slideTrigger_open="click"),i.resizerDblClickToggle&&r.match(/click/)&&a[t?"unbind":"bind"]("dblclick."+sID,toggle),a[t?"bind":"unbind"](r+"."+sID,slideOpen).css("cursor",t?i.sliderCursor:"default").attr("title",t?i.tips.Slide:""))},bindStopSlidingEvents=function(e,t){function i(t){timer.clear(e+"_closeSlider"),t.stopPropagation()}var a=options[e],r=state[e],n=(_c[e],options.zIndexes),s=a.slideTrigger_close.toLowerCase(),o=t?"bind":"unbind",l=$Ps[e],d=$Rs[e];timer.clear(e+"_closeSlider"),t?(r.isSliding=!0,state.panesSliding[e]=!0,bindStartSlidingEvents(e,!1)):(r.isSliding=!1,delete state.panesSliding[e]),l.css("zIndex",t?n.pane_sliding:n.pane_normal),d.css("zIndex",t?n.pane_sliding+2:n.resizer_normal),s.match(/(click|mouseleave)/)||(s=a.slideTrigger_close="mouseleave"),d[o](s,slideClose),"mouseleave"===s&&(l[o]("mouseleave."+sID,slideClose),d[o]("mouseenter."+sID,i),l[o]("mouseenter."+sID,i)),t?"click"!==s||a.resizable||(d.css("cursor",t?a.sliderCursor:"default"),d.attr("title",t?a.tips.Close:"")):timer.clear(e+"_closeSlider")},makePaneFit=function(e,t,i,a){var r=options[e],n=state[e],s=_c[e],o=$Ps[e],l=$Rs[e],d="vert"===s.dir,c=!1;if(("center"===e||d&&n.noVerticalRoom)&&(c=n.maxHeight>=0,c&&n.noRoom?(_showPane(e),l&&l.show(),n.isVisible=!0,n.noRoom=!1,d&&(n.noVerticalRoom=!1),_fixIframe(e)):c||n.noRoom||(_hidePane(e),l&&l.hide(),n.isVisible=!1,n.noRoom=!0)),"center"===e);else if(n.minSize<=n.maxSize){if(c=!0,n.size>n.maxSize)sizePane(e,n.maxSize,i,!0,a);else if(n.size<n.minSize)sizePane(e,n.minSize,i,!0,a);else if(l&&n.isVisible&&o.is(":visible")){var u=n.size+sC.inset[s.side];$.layout.cssNum(l,s.side)!=u&&l.css(s.side,u)}n.noRoom&&(n.wasOpen&&r.closable?r.autoReopen?open(e,!1,!0,!0):n.noRoom=!1:show(e,n.wasOpen,!0,!0))}else n.noRoom||(n.noRoom=!0,n.wasOpen=!n.isClosed&&!n.isSliding,n.isClosed||(r.closable?close(e,!0,!0):hide(e,!0)))},manualSizePane=function(e,t,i,a,r){if(isInitialized()){var n=evtPane.call(this,e),s=options[n],o=state[n],l=r||s.livePaneResizing&&!o.isResizing;o.autoResize=!1,sizePane(n,t,i,a,l)}},sizePane=function(e,t,i,a,r){function n(){for(var e="width"===f?u.outerWidth():u.outerHeight(),a=[{pane:l,count:1,target:t,actual:e,correct:t===e,attempt:t,cssSize:o}],n=a[0],d={},m="Inaccurate size after resizing the "+l+"-pane.";!(n.correct||(d={pane:l,count:n.count+1,target:t},d.attempt=n.actual>t?max(0,n.attempt-(n.actual-t)):max(0,n.attempt+(t-n.actual)),d.cssSize=cssSize(l,d.attempt),u.css(f,d.cssSize),d.actual="width"==f?u.outerWidth():u.outerHeight(),d.correct=t===d.actual,1===a.length&&(_log(m,!1,!0),_log(n,!1,!0)),_log(d,!1,!0),a.length>3));)a.push(d),n=a[a.length-1];c.size=t,$.extend(c,elDims(u)),c.isVisible&&u.is(":visible")&&(h&&h.css(p,t+sC.inset[p]),sizeContent(l)),!i&&!g&&state.initialized&&c.isVisible&&_runCallbacks("onresize_end",l),i||(c.isSliding||sizeMidPanes("horz"==_c[l].dir?"":"center",g,r),sizeHandles());var v=_c.oppositeEdge[l];s>t&&state[v].noRoom&&(setSizeLimits(v),makePaneFit(v,!1,i)),a.length>1&&_log(m+"\nSee the Error Console for details.",!0,!0)}if(isInitialized()){var s,o,l=evtPane.call(this,e),d=options[l],c=state[l],u=$Ps[l],h=$Rs[l],p=_c[l].side,f=_c[l].sizeType.toLowerCase(),g=c.isResizing&&!d.triggerEventsDuringLiveResize,m=a!==!0&&d.animatePaneSizing;$N.queue(function(e){if(setSizeLimits(l),s=c.size,t=_parseSize(l,t),t=max(t,_parseSize(l,d.minSize)),t=min(t,c.maxSize),c.minSize>t)return e(),makePaneFit(l,!1,i),void 0;if(!r&&t===s)return e();if(c.newSize=t,!i&&state.initialized&&c.isVisible&&_runCallbacks("onresize_start",l),o=cssSize(l,t),m&&u.is(":visible")){var a=$.layout.effects.size[l]||$.layout.effects.size.all,h=d.fxSettings_size.easing||a.easing,p=options.zIndexes,g={};g[f]=o+"px",c.isMoving=!0,u.css({zIndex:p.pane_animate}).show().animate(g,d.fxSpeed_size,h,function(){u.css({zIndex:c.isSliding?p.pane_sliding:p.pane_normal}),c.isMoving=!1,delete c.newSize,n(),e()})}else u.css(f,o),delete c.newSize,u.is(":visible")?n():(c.size=t,$.extend(c,elDims(u))),e()})}},sizeMidPanes=function(e,t,i){e=(e?e:"east,west,center").split(","),$.each(e,function(e,a){if($Ps[a]){var r=options[a],n=state[a],s=$Ps[a],o=($Rs[a],!0),l={},d=$.layout.showInvisibly(s),c=calcNewCenterPaneDims();if($.extend(n,elDims(s)),"center"===a){if(!i&&n.isVisible&&c.width===n.outerWidth&&c.height===n.outerHeight)return s.css(d),!0;if($.extend(n,cssMinDims(a),{maxWidth:c.width,maxHeight:c.height}),l=c,n.newWidth=l.width,n.newHeight=l.height,l.width=cssW(s,l.width),l.height=cssH(s,l.height),o=l.width>=0&&l.height>=0,!state.initialized&&r.minWidth>c.width){var u=r.minWidth-n.outerWidth,h=options.east.minSize||0,p=options.west.minSize||0,f=state.east.size,g=state.west.size,m=f,v=g;if(u>0&&state.east.isVisible&&f>h&&(m=max(f-h,f-u),u-=f-m),u>0&&state.west.isVisible&&g>p&&(v=max(g-p,g-u),u-=g-v),0===u)return f&&f!=h&&sizePane("east",m,!0,!0,i),g&&g!=p&&sizePane("west",v,!0,!0,i),sizeMidPanes("center",t,i),s.css(d),void 0}}else{if(n.isVisible&&!n.noVerticalRoom&&$.extend(n,elDims(s),cssMinDims(a)),!i&&!n.noVerticalRoom&&c.height===n.outerHeight)return s.css(d),!0;l.top=c.top,l.bottom=c.bottom,n.newSize=c.height,l.height=cssH(s,c.height),n.maxHeight=l.height,o=n.maxHeight>=0,o||(n.noVerticalRoom=!0)}if(o?(!t&&state.initialized&&_runCallbacks("onresize_start",a),s.css(l),"center"!==a&&sizeHandles(a),!n.noRoom||n.isClosed||n.isHidden||makePaneFit(a),n.isVisible&&($.extend(n,elDims(s)),state.initialized&&sizeContent(a))):!n.noRoom&&n.isVisible&&makePaneFit(a),s.css(d),delete n.newSize,delete n.newWidth,delete n.newHeight,!n.isVisible)return!0;if("center"===a){var b=browser.isIE6||!browser.boxModel;$Ps.north&&(b||"IFRAME"==state.north.tagName)&&$Ps.north.css("width",cssW($Ps.north,sC.innerWidth)),$Ps.south&&(b||"IFRAME"==state.south.tagName)&&$Ps.south.css("width",cssW($Ps.south,sC.innerWidth))}!t&&state.initialized&&_runCallbacks("onresize_end",a)}})},resizeAll=function(e){var t=sC.innerWidth,i=sC.innerHeight;if(evtPane(e),$N.is(":visible")){if(!state.initialized)return _initLayoutElements(),void 0;if(e===!0&&$.isPlainObject(options.outset)&&$N.css(options.outset),$.extend(sC,elDims($N,options.inset)),sC.outerHeight){if(e===!0&&setPanePosition(),!1===_runCallbacks("onresizeall_start"))return!1;var a,r,n;i>sC.innerHeight,t>sC.innerWidth,$.each(["south","north","east","west"],function(e,t){$Ps[t]&&(r=options[t],n=state[t],n.autoResize&&n.size!=r.size?sizePane(t,r.size,!0,!0,!0):(setSizeLimits(t),makePaneFit(t,!1,!0,!0)))}),sizeMidPanes("",!0,!0),sizeHandles(),$.each(_c.allPanes,function(e,t){a=$Ps[t],a&&state[t].isVisible&&_runCallbacks("onresize_end",t)}),_runCallbacks("onresizeall_end")}}},resizeChildren=function(e,t){var i=evtPane.call(this,e);if(options[i].resizeChildren){t||refreshChildren(i);var a=children[i];$.isPlainObject(a)&&$.each(a,function(e,t){t.destroyed||t.resizeAll()})}},sizeContent=function(e,t){if(isInitialized()){var i=evtPane.call(this,e);i=i?i.split(","):_c.allPanes,$.each(i,function(e,i){function a(e){return max(l.css.paddingBottom,parseInt(e.css("marginBottom"),10)||0)}function r(){var e=options[i].contentIgnoreSelector,t=s.nextAll().not(".ui-layout-mask").not(e||":lt(0)"),r=t.filter(":visible"),n=r.filter(":last");d={top:s[0].offsetTop,height:s.outerHeight(),numFooters:t.length,hiddenFooters:t.length-r.length,spaceBelow:0},d.spaceAbove=d.top,d.bottom=d.top+d.height,d.spaceBelow=n.length?n[0].offsetTop+n.outerHeight()-d.bottom+a(n):a(s)}var n=$Ps[i],s=$Cs[i],o=options[i],l=state[i],d=l.content;if(!n||!s||!n.is(":visible"))return!0;if((s.length||(initContent(i,!1),s))&&!1!==_runCallbacks("onsizecontent_start",i)){(!l.isMoving&&!l.isResizing||o.liveContentResizing||t||void 0==d.top)&&(r(),d.hiddenFooters>0&&"hidden"===n.css("overflow")&&(n.css("overflow","visible"),r(),n.css("overflow","hidden")));var c=l.innerHeight-(d.spaceAbove-l.css.paddingTop)-(d.spaceBelow-l.css.paddingBottom);s.is(":visible")&&d.height==c||(setOuterHeight(s,c,!0),d.height=c),state.initialized&&_runCallbacks("onsizecontent_end",i)}})}},sizeHandles=function(e){var t=evtPane.call(this,e);t=t?t.split(","):_c.borderPanes,$.each(t,function(e,t){var i,a=options[t],r=state[t],n=$Ps[t],s=$Rs[t],o=$Ts[t];if(n&&s){var l,d,c,u=_c[t].dir,h=r.isClosed?"_closed":"_open",p=a["spacing"+h],f=a["togglerAlign"+h],g=a["togglerLength"+h];if(0===p)return s.hide(),void 0;if(r.noRoom||r.isHidden||s.show(),"horz"===u?(l=sC.innerWidth,r.resizerLength=l,d=$.layout.cssNum(n,"left"),s.css({width:cssW(s,l),height:cssH(s,p),left:d>-9999?d:sC.inset.left})):(l=n.outerHeight(),r.resizerLength=l,s.css({height:cssH(s,l),width:cssW(s,p),top:sC.inset.top+getPaneSize("north",!0)})),removeHover(a,s),o){if(0===g||r.isSliding&&a.hideTogglerOnSlide)return o.hide(),void 0;if(o.show(),!(g>0)||"100%"===g||g>l)g=l,c=0;else if(isStr(f))switch(f){case"top":case"left":c=0;break;case"bottom":case"right":c=l-g;break;case"middle":case"center":default:c=round((l-g)/2)}else{var m=parseInt(f,10);c=f>=0?m:l-g+m}if("horz"===u){var v=cssW(o,g);o.css({width:v,height:cssH(o,p),left:c,top:0}),o.children(".content").each(function(){i=$(this),i.css("marginLeft",round((v-i.outerWidth())/2))})}else{var b=cssH(o,g);o.css({height:b,width:cssW(o,p),top:c,left:0}),o.children(".content").each(function(){i=$(this),i.css("marginTop",round((b-i.outerHeight())/2))})}removeHover(0,o)}state.initialized||!a.initHidden&&!r.isHidden||(s.hide(),o&&o.hide())}})},enableClosable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Ts[t],a=options[t];i&&(a.closable=!0,i.bind("click."+sID,function(e){e.stopPropagation(),toggle(t)}).css("visibility","visible").css("cursor","pointer").attr("title",state[t].isClosed?a.tips.Open:a.tips.Close).show())}},disableClosable=function(e,t){if(isInitialized()){var i=evtPane.call(this,e),a=$Ts[i];a&&(options[i].closable=!1,state[i].isClosed&&open(i,!1,!0),a.unbind("."+sID).css("visibility",t?"hidden":"visible").css("cursor","default").attr("title",""))}},enableSlidable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t];i&&i.data("draggable")&&(options[t].slidable=!0,state[t].isClosed&&bindStartSlidingEvents(t,!0))}},disableSlidable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t];i&&(options[t].slidable=!1,state[t].isSliding?close(t,!1,!0):(bindStartSlidingEvents(t,!1),i.css("cursor","default").attr("title",""),removeHover(null,i[0])))}},enableResizable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t],a=options[t];i&&i.data("draggable")&&(a.resizable=!0,i.draggable("enable"),state[t].isClosed||i.css("cursor",a.resizerCursor).attr("title",a.tips.Resize))}},disableResizable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t];i&&i.data("draggable")&&(options[t].resizable=!1,i.draggable("disable").css("cursor","default").attr("title",""),removeHover(null,i[0]))}},swapPanes=function(e,t){function i(e){var t=$Ps[e],i=$Cs[e];return t?{pane:e,P:t?t[0]:!1,C:i?i[0]:!1,state:$.extend(!0,{},state[e]),options:$.extend(!0,{},options[e])}:!1}function a(e,t){if(e){var i,a,r=e.P,n=e.C,s=e.pane,l=_c[t],d=$.extend(!0,{},state[t]),c=options[t],u={resizerCursor:c.resizerCursor};$.each("fxName,fxSpeed,fxSettings".split(","),function(e,t){u[t+"_open"]=c[t+"_open"],u[t+"_close"]=c[t+"_close"],u[t+"_size"]=c[t+"_size"]}),$Ps[t]=$(r).data({layoutPane:Instance[t],layoutEdge:t}).css(_c.hidden).css(l.cssReq),$Cs[t]=n?$(n):!1,options[t]=$.extend(!0,{},e.options,u),state[t]=$.extend(!0,{},e.state),i=RegExp(c.paneClass+"-"+s,"g"),r.className=r.className.replace(i,c.paneClass+"-"+t),initHandles(t),l.dir!=_c[s].dir?(a=o[t]||0,setSizeLimits(t),a=max(a,state[t].minSize),manualSizePane(t,a,!0,!0)):$Rs[t].css(l.side,sC.inset[l.side]+(state[t].isVisible?getPaneSize(t):0)),e.state.isVisible&&!d.isVisible?setAsOpen(t,!0):(setAsClosed(t),bindStartSlidingEvents(t,!0)),e=null}}if(isInitialized()){var r=evtPane.call(this,e);if(state[r].edge=t,state[t].edge=r,!1===_runCallbacks("onswap_start",r)||!1===_runCallbacks("onswap_start",t))return state[r].edge=r,state[t].edge=t,void 0;var n=i(r),s=i(t),o={};o[r]=n?n.state.size:0,o[t]=s?s.state.size:0,$Ps[r]=!1,$Ps[t]=!1,state[r]={},state[t]={},$Ts[r]&&$Ts[r].remove(),$Ts[t]&&$Ts[t].remove(),$Rs[r]&&$Rs[r].remove(),$Rs[t]&&$Rs[t].remove(),$Rs[r]=$Rs[t]=$Ts[r]=$Ts[t]=!1,a(n,t),a(s,r),n=s=o=null,$Ps[r]&&$Ps[r].css(_c.visible),$Ps[t]&&$Ps[t].css(_c.visible),resizeAll(),_runCallbacks("onswap_end",r),_runCallbacks("onswap_end",t)}},syncPinBtns=function(e,t){$.layout.plugins.buttons&&$.each(state[e].pins,function(i,a){$.layout.buttons.setPinState(Instance,$(a),e,t)})},$N=$(this).eq(0);if(!$N.length)return _log(options.errors.containerMissing);if($N.data("layoutContainer")&&$N.data("layout"))return $N.data("layout");var $Ps={},$Cs={},$Rs={},$Ts={},$Ms=$([]),sC=state.container,sID=state.id,Instance={options:options,state:state,container:$N,panes:$Ps,contents:$Cs,resizers:$Rs,togglers:$Ts,hide:hide,show:show,toggle:toggle,open:open,close:close,slideOpen:slideOpen,slideClose:slideClose,slideToggle:slideToggle,setSizeLimits:setSizeLimits,_sizePane:sizePane,sizePane:manualSizePane,sizeContent:sizeContent,swapPanes:swapPanes,showMasks:showMasks,hideMasks:hideMasks,initContent:initContent,addPane:addPane,removePane:removePane,createChildren:createChildren,refreshChildren:refreshChildren,enableClosable:enableClosable,disableClosable:disableClosable,enableSlidable:enableSlidable,disableSlidable:disableSlidable,enableResizable:enableResizable,disableResizable:disableResizable,allowOverflow:allowOverflow,resetOverflow:resetOverflow,destroy:destroy,initPanes:isInitialized,resizeAll:resizeAll,runCallbacks:_runCallbacks,hasParentLayout:!1,children:children,north:!1,south:!1,west:!1,east:!1,center:!1};return"cancel"===_create()?null:Instance}})(jQuery),function(e){e.ui||(e.ui={}),e.ui.cookie={acceptsCookies:!!navigator.cookieEnabled,read:function(t){for(var i,a=document.cookie,r=a?a.split(";"):[],n=0,s=r.length;s>n;n++)if(i=e.trim(r[n]).split("="),i[0]==t)return decodeURIComponent(i[1]);return null},write:function(t,i,a){var r="",n="",s=!1,o=a||{},l=o.expires||null,d=e.type(l);"date"===d?n=l:"string"===d&&l>0&&(l=parseInt(l,10),d="number"),"number"===d&&(n=new Date,l>0?n.setDate(n.getDate()+l):(n.setFullYear(1970),s=!0)),n&&(r+=";expires="+n.toUTCString()),o.path&&(r+=";path="+o.path),o.domain&&(r+=";domain="+o.domain),o.secure&&(r+=";secure"),document.cookie=t+"="+(s?"":encodeURIComponent(i))+r},clear:function(t){e.ui.cookie.write(t,"",{expires:-1})}},e.cookie||(e.cookie=function(t,i,a){var r=e.ui.cookie;if(null===i)r.clear(t);else{if(void 0===i)return r.read(t);r.write(t,i,a)}}),e.layout.plugins.stateManagement=!0,e.layout.config.optionRootKeys.push("stateManagement"),e.layout.defaults.stateManagement={enabled:!1,autoSave:!0,autoLoad:!0,animateLoad:!0,includeChildren:!0,stateKeys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden",cookie:{name:"",domain:"",path:"",expires:"",secure:!1}},e.layout.optionsMap.layout.push("stateManagement"),e.layout.state={saveCookie:function(t,i,a){var r=t.options,n=r.stateManagement,s=e.extend(!0,{},n.cookie,a||null),o=t.state.stateData=t.readState(i||n.stateKeys);return e.ui.cookie.write(s.name||r.name||"Layout",e.layout.state.encodeJSON(o),s),e.extend(!0,{},o)},deleteCookie:function(t){var i=t.options;e.ui.cookie.clear(i.stateManagement.cookie.name||i.name||"Layout")},readCookie:function(t){var i=t.options,a=e.ui.cookie.read(i.stateManagement.cookie.name||i.name||"Layout");return a?e.layout.state.decodeJSON(a):{}},loadCookie:function(t){var i=e.layout.state.readCookie(t);return i&&(t.state.stateData=e.extend(!0,{},i),t.loadState(i)),i},loadState:function(t,i,a){if(e.isPlainObject(i)&&!e.isEmptyObject(i)){i=t.state.stateData=e.layout.transformData(i);var r=t.options.stateManagement;if(a=e.extend({animateLoad:!1,includeChildren:r.includeChildren},a),t.state.initialized){var n,o,l,d,c,u=!a.animateLoad;if(e.each(e.layout.config.borderPanes,function(a,r){n=i[r],e.isPlainObject(n)&&(s=n.size,o=n.initClosed,l=n.initHidden,ar=n.autoResize,d=t.state[r],c=d.isVisible,ar&&(d.autoResize=ar),c||t._sizePane(r,s,!1,!1,!1),l===!0?t.hide(r,u):o===!0?t.close(r,!1,u):o===!1?t.open(r,!1,u):l===!1&&t.show(r,!1,u),c&&t._sizePane(r,s,!1,!1,u))
}),a.includeChildren){var h,p;e.each(t.children,function(t,a){h=i[t]?i[t].children:0,h&&a&&e.each(a,function(e,t){p=h[e],t&&p&&t.loadState(p)})})}}else{var n=e.extend(!0,{},i);e.each(e.layout.config.allPanes,function(e,t){n[t]&&delete n[t].children}),e.extend(!0,t.options,n)}}},readState:function(t,i){"string"===e.type(i)&&(i={keys:i}),i||(i={});var a,r,n,s,o,l,d,c=t.options.stateManagement,u=i.includeChildren,h=void 0!==u?u:c.includeChildren,p=i.stateKeys||c.stateKeys,f={isClosed:"initClosed",isHidden:"initHidden"},g=t.state,m=e.layout.config.allPanes,v={};e.isArray(p)&&(p=p.join(",")),p=p.replace(/__/g,".").split(",");for(var b=0,y=p.length;y>b;b++)a=p[b].split("."),r=a[0],n=a[1],0>e.inArray(r,m)||(s=g[r][n],void 0!=s&&("isClosed"==n&&g[r].isSliding&&(s=!0),(v[r]||(v[r]={}))[f[n]?f[n]:n]=s));return h&&e.each(m,function(i,a){l=t.children[a],o=g.stateData[a],e.isPlainObject(l)&&!e.isEmptyObject(l)&&(d=v[a]||(v[a]={}),d.children||(d.children={}),e.each(l,function(t,i){i.state.initialized?d.children[t]=e.layout.state.readState(i):o&&o.children&&o.children[t]&&(d.children[t]=e.extend(!0,{},o.children[t]))}))}),v},encodeJSON:function(t){function i(t){var a,r,n,s=[],o=0,l=e.isArray(t);for(a in t)r=t[a],n=typeof r,"string"==n?r='"'+r+'"':"object"==n&&(r=i(r)),s[o++]=(l?"":'"'+a+'":')+r;return(l?"[":"{")+s.join(",")+(l?"]":"}")}return i(t)},decodeJSON:function(t){try{return e.parseJSON?e.parseJSON(t):window.eval("("+t+")")||{}}catch(i){return{}}},_create:function(t){var i=e.layout.state,a=t.options,r=a.stateManagement;if(e.extend(t,{readCookie:function(){return i.readCookie(t)},deleteCookie:function(){i.deleteCookie(t)},saveCookie:function(e,a){return i.saveCookie(t,e,a)},loadCookie:function(){return i.loadCookie(t)},loadState:function(e,a){i.loadState(t,e,a)},readState:function(e){return i.readState(t,e)},encodeJSON:i.encodeJSON,decodeJSON:i.decodeJSON}),t.state.stateData={},r.autoLoad)if(e.isPlainObject(r.autoLoad))e.isEmptyObject(r.autoLoad)||t.loadState(r.autoLoad);else if(r.enabled)if(e.isFunction(r.autoLoad)){var n={};try{n=r.autoLoad(t,t.state,t.options,t.options.name||"")}catch(s){}n&&e.isPlainObject(n)&&!e.isEmptyObject(n)&&t.loadState(n)}else t.loadCookie()},_unload:function(t){var i=t.options.stateManagement;if(i.enabled&&i.autoSave)if(e.isFunction(i.autoSave))try{i.autoSave(t,t.state,t.options,t.options.name||"")}catch(a){}else t.saveCookie()}},e.layout.onCreate.push(e.layout.state._create),e.layout.onUnload.push(e.layout.state._unload),e.layout.plugins.buttons=!0,e.layout.defaults.autoBindCustomButtons=!1,e.layout.optionsMap.layout.push("autoBindCustomButtons"),e.layout.buttons={init:function(t){var i,a="ui-layout-button-",r=t.options.name||"";e.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(n,s){e.each(e.layout.config.borderPanes,function(n,o){e("."+a+s+"-"+o).each(function(){i=e(this).data("layoutName")||e(this).attr("layoutName"),(void 0==i||i===r)&&t.bindButton(this,s,o)})})})},get:function(t,i,a,r){var n=e(i),s=t.options,o=s.errors.addButtonError;if(n.length)if(0>e.inArray(a,e.layout.config.borderPanes))e.layout.msg(o+" "+s.errors.pane+": "+a,!0),n=e("");else{var l=s[a].buttonClass+"-"+r;n.addClass(l+" "+l+"-"+a).data("layoutName",s.name)}else e.layout.msg(o+" "+s.errors.selector+": "+i,!0);return n},bind:function(t,i,a,r){var n=e.layout.buttons;switch(a.toLowerCase()){case"toggle":n.addToggle(t,i,r);break;case"open":n.addOpen(t,i,r);break;case"close":n.addClose(t,i,r);break;case"pin":n.addPin(t,i,r);break;case"toggle-slide":n.addToggle(t,i,r,!0);break;case"open-slide":n.addOpen(t,i,r,!0)}return t},addToggle:function(t,i,a,r){return e.layout.buttons.get(t,i,a,"toggle").click(function(e){t.toggle(a,!!r),e.stopPropagation()}),t},addOpen:function(t,i,a,r){return e.layout.buttons.get(t,i,a,"open").attr("title",t.options[a].tips.Open).click(function(e){t.open(a,!!r),e.stopPropagation()}),t},addClose:function(t,i,a){return e.layout.buttons.get(t,i,a,"close").attr("title",t.options[a].tips.Close).click(function(e){t.close(a),e.stopPropagation()}),t},addPin:function(t,i,a){var r=e.layout.buttons,n=r.get(t,i,a,"pin");if(n.length){var s=t.state[a];n.click(function(i){r.setPinState(t,e(this),a,s.isSliding||s.isClosed),s.isSliding||s.isClosed?t.open(a):t.close(a),i.stopPropagation()}),r.setPinState(t,n,a,!s.isClosed&&!s.isSliding),s.pins.push(i)}return t},setPinState:function(e,t,i,a){var r=t.attr("pin");if(!r||a!==("down"==r)){var n=e.options[i],s=n.buttonClass+"-pin",o=s+"-"+i,l=s+"-up "+o+"-up",d=s+"-down "+o+"-down";t.attr("pin",a?"down":"up").attr("title",a?n.tips.Unpin:n.tips.Pin).removeClass(a?l:d).addClass(a?d:l)}},syncPinBtns:function(t,i,a){e.each(t.state[i].pins,function(r,n){e.layout.buttons.setPinState(t,e(n),i,a)})},_load:function(t){var i=e.layout.buttons;e.extend(t,{bindButton:function(e,a,r){return i.bind(t,e,a,r)},addToggleBtn:function(e,a,r){return i.addToggle(t,e,a,r)},addOpenBtn:function(e,a,r){return i.addOpen(t,e,a,r)},addCloseBtn:function(e,a){return i.addClose(t,e,a)},addPinBtn:function(e,a){return i.addPin(t,e,a)}});for(var a=0;4>a;a++){var r=e.layout.config.borderPanes[a];t.state[r].pins=[]}t.options.autoBindCustomButtons&&i.init(t)},_unload:function(){}},e.layout.onLoad.push(e.layout.buttons._load),e.layout.plugins.browserZoom=!0,e.layout.defaults.browserZoomCheckInterval=1e3,e.layout.optionsMap.layout.push("browserZoomCheckInterval"),e.layout.browserZoom={_init:function(t){e.layout.browserZoom.ratio()!==!1&&e.layout.browserZoom._setTimer(t)},_setTimer:function(t){if(!t.destroyed){var i=t.options,a=t.state,r=t.hasParentLayout?5e3:Math.max(i.browserZoomCheckInterval,100);setTimeout(function(){if(!t.destroyed&&i.resizeWithWindow){var r=e.layout.browserZoom.ratio();r!==a.browserZoom&&(a.browserZoom=r,t.resizeAll()),e.layout.browserZoom._setTimer(t)}},r)}},ratio:function(){function t(e,t){return(100*(parseInt(e,10)/parseInt(t,10))).toFixed()}var i,a,r,n=window,s=screen,o=document,l=o.documentElement||o.body,d=e.layout.browser,c=d.version;return d.msie&&c>8||!d.msie?!1:s.deviceXDPI&&s.systemXDPI?t(s.deviceXDPI,s.systemXDPI):d.webkit&&(i=o.body.getBoundingClientRect)?t(i.left-i.right,o.body.offsetWidth):d.webkit&&(a=n.outerWidth)?t(a,n.innerWidth):(a=s.width)&&(r=l.clientWidth)?t(a,r):!1}},e.layout.onReady.push(e.layout.browserZoom._init)}(jQuery);