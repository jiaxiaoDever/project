/*!
* yhui 1.3.0beta
* yhCore.js
* 2013-04-23
*/
(function(e){e.yhui=e.yhui||{},e.yhui.version||e.extend(e.yhui,{version:"1.3.0beta",isIE:!(!document.all||!window.ActiveXObject),isIE6:!(!e.browser.msie||6!=e.browser.version),isIE67:!e.support.getSetAttribute,isIE678:!e.support.opacity,isIE8:!(!e.browser.msie||8!=e.browser.version),isIE9:!(!e.browser.msie||9!=e.browser.version),chrome:e.browser.chrome,ff:e.browser.mozilla,getHeight:function(){var e,t=arguments.length,i=0;for(e=0;t>e;e++)arguments[e].length&&(i+=arguments[e].outerHeight());return i},createTable:function(t,i,r){var a=[];if(e.isArray(i)){r=null,a.push("<table>");for(var n=0,s=i.length;s>n;n++){a.push("<tr>");for(var o=0,l=i[n].length;l>o;o++)a.push("<td>",i[n][o],"</td>");a.push("</tr>")}return a.push("</table>"),t.html(a.join("")),t.children("table")}a.push("<table>");for(var n=0;i>n;n++){a.push("<tr>");for(var o=0;r>o;o++)a.push("<td>",n+"行"+o+"列","</td>");a.push("</tr>")}return a.push("</table>"),t.html(a.join("")),t.children("table")},clone:function(e){if(null===e)return null;var t=e.constructor===Array?[]:{};for(var i in e)t[i]=e[i]instanceof Date?new Date(e[i].getTime()):"object"==typeof e[i]?arguments.callee(e[i]):e[i];return t},log:function(e){window.console?console.log(e):alert(e)},setDay:function(e,t){"string"==typeof e&&(t=e,e=new Date);var i,r=t.substring(0,1),a=parseInt(t.substring(1));return"+"===r&&(i=new Date(e.getTime()+1e3*60*60*24*a)),"-"===r&&(i=new Date(e.getTime()-1e3*60*60*24*a)),i?i:null},daysInMonth:function(e,t,i){return i=i||new Date,e=e||i.getFullYear(),t=t||i.getMonth(),32-new Date(e,t,32).getDate()},adjust:function(e,t,i){i=i||new Date;var r="D"==e?i.getDate()+t:i.getDate(),a="M"==e?i.getMonth()+t:i.getMonth(),n="Y"==e?i.getFullYear()+t:i.getFullYear();return"D"!=e&&(r=Math.max(1,Math.min(r,this.daysInMonth(n,a,i)))),new Date(n,a,r,i.getHours(),i.getMinutes(),i.getSeconds())},isLeapYear:function(e){return e=e||(new Date).getFullYear(),1==new Date(e,1,29).getMonth()},stringToDate:function(e,t){return e?(t=t||"yyyy-MM-dd",Globalize.parseDate(e,t)):void 0},getDocHeight:function(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))},byId:function(e){return document.getElementById(e)},byTag:function(e,t){var i;return"string"==typeof e&&(i=document.getElementsByTagName(e)),e.nodeName&&(i=e.getElementsByTagName(t)),i},objectLength:function(t){if(e.isPlainObject(t)){var i=0;for(var r in t)i++;return i}},getUserInfo:function(){var t=navigator.userAgent,i=e.uaMatch(navigator.userAgent);if("webkit"===i.browser&&!/1\.8/.test(e.fn.jquery)){var r,a=/chrome\/([\d\.]+)/i;(r=a.exec(t)[1])&&(i.browser="chrome",i.version=r)}return i.browser||(i.browser="unknow",i.version=""),i.ratio=screen.width+" x "+screen.height,i},windowResize:function(t,i,r){t&&e(r||window).on("resize"+(i||""),function(){t.yhuiTimer||(t.yhuiTimer=setTimeout(function(){t.apply(window,arguments),clearTimeout(t.yhuiTimer),t.yhuiTimer=void 0},300))})},cookie:function(e,t,i){if(arguments.length>1&&(null===t||"object"!=typeof t)){if(i=jQuery.extend({},i),null===t&&(i.expires=-1),"number"==typeof i.expires){var r=i.expires,a=i.expires=new Date;a.setDate(a.getDate()+r)}return document.cookie=[encodeURIComponent(e),"=",i.raw?t+"":encodeURIComponent(t+""),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}i=t||{};var n,s=i.raw?function(e){return e}:decodeURIComponent;return(n=RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?s(n[1]):null},expandTreeNode:function(e,t,i){var r;i=i||1e3;for(var a=0,n=e.length;n>a;a++)i>e[a].level&&(t.expandNode(e[a],!0,null,null,!0),(r=e[a].children)&&arguments.callee(r,t,i))},loadingFadeOut:function(t){e("div.yhui-cover").fadeOut(400,function(){e(this).remove(),t&&t.apply(null)})},parseEventType:function(t,i){var r;if(-1===t.indexOf(" "))r=t+i;else{var a=[];e.each(t.split(" "),function(e,t){a.push(t+i)}),r=a.join(" ")}return r},print:function(t,i){return i?(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(RegExp("\\{"+e+"\\}","g"),function(){return i})}),t):t},mapForm:function(e){for(var t,i={},r=e.elements,a=r.length,n=0;a>n;n++)(t=r[n].name||r[n].id)&&(i[t]=r[n].value);return i}})})(jQuery);