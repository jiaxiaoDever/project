/*! yhui plugin: globalize.js
 * 2013-04-23
*/
(function(e,t){var i,r,a,n,s,o,d,l,c,u,h,p,f,g,m,v,b,y,_,w,D,j,k,C;i=function(e){return new i.prototype.init(e)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=i:e.Globalize=i,i.cultures={},i.prototype={constructor:i,init:function(e){return this.cultures=i.cultures,this.cultureSelector=e,this}},i.prototype.init.prototype=i.prototype,i.cultures["default"]={name:"zh",englishName:"Chinese",nativeName:"中文",isRTL:!1,language:"zh",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"非数字",negativeInfinity:"负无穷大",positiveInfinity:"正无穷大",percent:{pattern:["-n%","n%"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["$-n","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"¥"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],namesAbbr:["周日","周一","周二","周三","周四","周五","周六"],namesShort:["日","一","二","三","四","五","六"]},months:{names:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],namesAbbr:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""]},AM:["上午","上午","上午"],PM:["下午","下午","下午"],eras:[{name:"公元",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"yyyy/M/d",D:"yyyy'年'M'月'd'日'",t:"H:mm",T:"H:mm:ss",f:"yyyy'年'M'月'd'日' H:mm",F:"yyyy'年'M'月'd'日' H:mm:ss",M:"M'月'd'日'",Y:"yyyy'年'M'月'",S:"yyyy'-'MM'-'dd' 'HH':'mm':'ss"}}},messages:{}},i.cultures["default"].calendar=i.cultures["default"].calendars.standard,i.cultures.en=i.cultures["default"],i.cultureSelector="en",r=/^0x[a-f0-9]+$/i,a=/^[+-]?infinity$/i,n=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,s=/^\s+|\s+$/g,o=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,r=e.length;r>i;i++)if(e[i]===t)return i;return-1},d=function(e,t){return e.substr(e.length-t.length)===t},l=function(e){var i,r,a,n,s,o,d=arguments[0]||{},p=1,f=arguments.length,e=!1;for("boolean"==typeof d&&(e=d,d=arguments[1]||{},p=2),"object"==typeof d||u(d)||(d={});f>p;p++)if(null!=(i=arguments[p]))for(r in i)a=d[r],n=i[r],d!==n&&(e&&n&&(h(n)||(s=c(n)))?(s?(s=!1,o=a&&c(a)?a:[]):o=a&&h(a)?a:{},d[r]=l(e,o,n)):n!==t&&(d[r]=n));return d},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=function(e){return"[object Function]"===Object.prototype.toString.call(e)},h=function(e){return"[object Object]"===Object.prototype.toString.call(e)},p=function(e,t){return 0===e.indexOf(t)},f=function(e){return(e+"").replace(s,"")},g=function(e){return 0|e},m=function(e,t,i){var r;for(r=e.length;t>r;r+=1)e=i?"0"+e:e+"0";return e},v=function(e,t){for(var i=0,r=!1,a=0,n=e.length;n>a;a++){var s=e.charAt(a);switch(s){case"'":r?t.push("'"):i++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(s),r=!1}}return i},b=function(e,t){t=t||"F";var i,r=e.patterns,a=t.length;if(1===a){if(i=r[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else 2===a&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},y=function(e,t,i){function r(e,t){var i,r=e+"";return t>1&&t>r.length?(i=_[t-2]+r,i.substr(i.length-t,t)):i=r}function a(){return f||g?f:(f=k.test(t),g=!0,f)}function n(e,t){if(m)return m[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}var s=i.calendar,o=s.convert;if(!t||!t.length||"i"===t){var d;if(i&&i.name.length)if(o)d=y(e,s.patterns.F,i);else{var l=new Date(e.getTime()),c=D(e,s.eras);l.setFullYear(j(e,s,c)),d=l.toLocaleString()}else d=""+e;return d}var u=s.eras,h="s"===t;t=b(s,t),d=[];var p,f,g,m,_=["0","00","000"],k=/([^d]|^)(d|dd)([^d]|$)/g,C=0,x=w();for(!h&&o&&(m=o.fromGregorian(e));;){var I=x.lastIndex,T=x.exec(t),N=t.slice(I,T?T.index:t.length);if(C+=v(N,d),!T)break;if(C%2)d.push(T[0]);else{var $=T[0],M=$.length;switch($){case"ddd":case"dddd":var q=3===M?s.days.namesAbbr:s.days.names;d.push(q[e.getDay()]);break;case"d":case"dd":f=!0,d.push(r(n(e,2),M));break;case"MMM":case"MMMM":var S=n(e,1);d.push(s.monthsGenitive&&a()?s.monthsGenitive[3===M?"namesAbbr":"names"][S]:s.months[3===M?"namesAbbr":"names"][S]);break;case"M":case"MM":d.push(r(n(e,1)+1,M));break;case"y":case"yy":case"yyyy":S=m?m[0]:j(e,s,D(e,u),h),4>M&&(S%=100),d.push(r(S,M));break;case"h":case"hh":p=e.getHours()%12,0===p&&(p=12),d.push(r(p,M));break;case"H":case"HH":d.push(r(e.getHours(),M));break;case"m":case"mm":d.push(r(e.getMinutes(),M));break;case"s":case"ss":d.push(r(e.getSeconds(),M));break;case"t":case"tt":S=12>e.getHours()?s.AM?s.AM[0]:" ":s.PM?s.PM[0]:" ",d.push(1===M?S.charAt(0):S);break;case"f":case"ff":case"fff":d.push(r(e.getMilliseconds(),3).substr(0,M));break;case"z":case"zz":p=e.getTimezoneOffset()/60,d.push((0>=p?"+":"-")+r(Math.floor(Math.abs(p)),M));break;case"zzz":p=e.getTimezoneOffset()/60,d.push((0>=p?"+":"-")+r(Math.floor(Math.abs(p)),2)+":"+r(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":s.eras&&d.push(s.eras[D(e,u)].name);break;case"/":d.push(s["/"]);break;default:throw"Invalid date format pattern '"+$+"'."}}}return d.join("")},function(){var e;e=function(e,t,i){var r=i.groupSizes,a=r[0],n=1,s=Math.pow(10,t),o=Math.round(e*s)/s;isFinite(o)||(o=e),e=o;var d=e+"",l="",c=d.split(/e/i),u=c.length>1?parseInt(c[1],10):0;d=c[0],c=d.split("."),d=c[0],l=c.length>1?c[1]:"",u>0?(l=m(l,u,!1),d+=l.slice(0,u),l=l.substr(u)):0>u&&(u=-u,d=m(d,u+1),l=d.slice(-u,d.length)+l,d=d.slice(0,-u)),l=t>0?i["."]+(l.length>t?l.slice(0,t):m(l,t)):"";for(var h=d.length-1,p=i[","],f="";h>=0;){if(0===a||a>h)return d.slice(0,h+1)+(f.length?p+f+l:l);f=d.slice(h-a+1,h+1)+(f.length?p+f:""),h-=a,r.length>n&&(a=r[n],n++)}return d.slice(0,h+1)+p+f+l},_=function(t,i,r){if(!isFinite(t))return 1/0===t?r.numberFormat.positiveInfinity:t===-1/0?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!i||"i"===i)return r.name.length?t.toLocaleString():""+t;i=i||"D";var a,n=r.numberFormat,s=Math.abs(t),o=-1;i.length>1&&(o=parseInt(i.slice(1),10));var d,l=i.charAt(0).toUpperCase();switch(l){case"D":a="n",s=g(s),-1!==o&&(s=m(""+s,o,!0)),0>t&&(s="-"+s);break;case"N":d=n;case"C":d=d||n.currency;case"P":d=d||n.percent,a=0>t?d.pattern[0]:d.pattern[1]||"n",-1===o&&(o=d.decimals),s=e(s*("P"===l?100:1),o,d);break;default:throw"Bad number format specifier: "+l}for(var c=/n|\$|-|%/g,u="";;){var h=c.lastIndex,p=c.exec(a);if(u+=a.slice(h,p?p.index:a.length),!p)break;switch(p[0]){case"n":u+=s;break;case"$":u+=n.currency.symbol;break;case"-":/[1-9]/.test(s)&&(u+=n["-"]);break;case"%":u+=n.percent.symbol}}return u}}(),w=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},D=function(e,t){if(!t)return 0;for(var i,r=e.getTime(),a=0,n=t.length;n>a;a++)if(i=t[a].start,null===i||r>=i)return a;return 0},j=function(e,t,i,r){var a=e.getFullYear();return!r&&t.eras&&(a-=t.eras[i].offset),a},function(){var e,t,i,r,a,n,s;e=function(e,t){var i=new Date,r=D(i);if(100>t){var a=e.twoDigitYearMax;a="string"==typeof a?(new Date).getFullYear()%100+parseInt(a,10):a;var n=j(i,e,r);t+=n-n%100,t>a&&(t-=100)}return t},t=function(e,t,i){var r,a=e.days,d=e._upperDays;return d||(e._upperDays=d=[s(a.names),s(a.namesAbbr),s(a.namesShort)]),t=n(t),i?(r=o(d[1],t),-1===r&&(r=o(d[2],t))):r=o(d[0],t),r},i=function(e,t,i){var r=e.months,a=e.monthsGenitive||e.months,d=e._upperMonths,l=e._upperMonthsGen;d||(e._upperMonths=d=[s(r.names),s(r.namesAbbr)],e._upperMonthsGen=l=[s(a.names),s(a.namesAbbr)]),t=n(t);var c=o(i?d[1]:d[0],t);return 0>c&&(c=o(i?l[1]:l[0],t)),c},r=function(e,t){var i=e._parseRegExp;if(i){var r=i[t];if(r)return r}else e._parseRegExp=i={};for(var a,n=b(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],d=0,l=0,c=w();null!==(a=c.exec(n));){var u=n.slice(d,a.index);if(d=c.lastIndex,l+=v(u,s),l%2)s.push(a[0]);else{var h,p=a[0],f=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":h="(\\D+)";break;case"tt":case"t":h="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":h="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":h="(\\d\\d?)";break;case"zzz":h="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":h="([+-]?\\d\\d?)";break;case"/":h="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}h&&s.push(h),o.push(a[0])}}v(n.slice(d),s),s.push("$");var g=s.join("").replace(/\s+/g,"\\s+"),m={regExp:g,groups:o};return i[t]=m},a=function(e,t,i){return t>e||e>i},n=function(e){return e.split(" ").join(" ").toUpperCase()},s=function(e){for(var t=[],i=0,r=e.length;r>i;i++)t[i]=n(e[i]);return t},k=function(n,s,o){n=f(n);var d=o.calendar,l=r(d,s),c=RegExp(l.regExp).exec(n);if(null===c)return null;for(var u,h=l.groups,g=null,m=null,v=null,b=null,y=null,_=0,w=0,D=0,j=0,k=null,C=!1,x=0,I=h.length;I>x;x++){var T=c[x+1];if(T){var N=h[x],$=N.length,M=parseInt(T,10);switch(N){case"dd":case"d":if(b=M,a(b,1,31))return null;break;case"MMM":case"MMMM":if(v=i(d,T,3===$),a(v,0,11))return null;break;case"M":case"MM":if(v=M-1,a(v,0,11))return null;break;case"y":case"yy":case"yyyy":if(m=4>$?e(d,M):M,a(m,0,9999))return null;break;case"h":case"hh":if(_=M,12===_&&(_=0),a(_,0,11))return null;break;case"H":case"HH":if(_=M,a(_,0,23))return null;break;case"m":case"mm":if(w=M,a(w,0,59))return null;break;case"s":case"ss":if(D=M,a(D,0,59))return null;break;case"tt":case"t":if(C=d.PM&&(T===d.PM[0]||T===d.PM[1]||T===d.PM[2]),!C&&(!d.AM||T!==d.AM[0]&&T!==d.AM[1]&&T!==d.AM[2]))return null;break;case"f":case"ff":case"fff":if(j=M*Math.pow(10,3-$),a(j,0,999))return null;break;case"ddd":case"dddd":if(y=t(d,T,3===$),a(y,0,6))return null;break;case"zzz":var q=T.split(/:/);if(2!==q.length)return null;if(u=parseInt(q[0],10),a(u,-12,13))return null;var S=parseInt(q[1],10);if(a(S,0,59))return null;k=60*u+(p(T,"-")?-S:S);break;case"z":case"zz":if(u=M,a(u,-12,13))return null;k=60*u;break;case"g":case"gg":var F=T;if(!F||!d.eras)return null;F=f(F.toLowerCase());for(var E=0,A=d.eras.length;A>E;E++)if(F===d.eras[E].name.toLowerCase()){g=E;break}if(null===g)return null}}}var O,R=new Date,P=d.convert;if(O=P?P.fromGregorian(R)[0]:R.getFullYear(),null===m?m=O:d.eras&&(m+=d.eras[g||0].offset),null===v&&(v=0),null===b&&(b=1),P){if(R=P.toGregorian(m,v,b),null===R)return null}else{if(R.setFullYear(m,v,b),R.getDate()!==b)return null;if(null!==y&&R.getDay()!==y)return null}if(C&&12>_&&(_+=12),R.setHours(_,w,D,j),null!==k){var G=R.getMinutes()-(k+R.getTimezoneOffset());R.setHours(R.getHours()+parseInt(G/60,10),G%60)}return R}}(),C=function(e,t,i){var r,a=t["-"],n=t["+"];switch(i){case"n -":a=" "+a,n=" "+n;case"n-":d(e,a)?r=["-",e.substr(0,e.length-a.length)]:d(e,n)&&(r=["+",e.substr(0,e.length-n.length)]);break;case"- n":a+=" ",n+=" ";case"-n":p(e,a)?r=["-",e.substr(a.length)]:p(e,n)&&(r=["+",e.substr(n.length)]);break;case"(n)":p(e,"(")&&d(e,")")&&(r=["-",e.substr(1,e.length-2)])}return r||["",e]},i.prototype.findClosestCulture=function(e){return i.findClosestCulture.call(this,e)},i.prototype.format=function(e,t,r){return i.format.call(this,e,t,r)},i.prototype.localize=function(e,t){return i.localize.call(this,e,t)},i.prototype.parseInt=function(e,t,r){return i.parseInt.call(this,e,t,r)},i.prototype.parseFloat=function(e,t,r){return i.parseFloat.call(this,e,t,r)},i.prototype.culture=function(e){return i.culture.call(this,e)},i.addCultureInfo=function(e,t,i){var r={},a=!1;"string"!=typeof e?(i=e,e=this.culture().name,r=this.cultures[e]):"string"!=typeof t?(i=t,a=null==this.cultures[e],r=this.cultures[e]||this.cultures["default"]):(a=!0,r=this.cultures[t]),this.cultures[e]=l(!0,{},r,i),a&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},i.findClosestCulture=function(e){var t;if(!e)return this.cultures[this.cultureSelector]||this.cultures["default"];if("string"==typeof e&&(e=e.split(",")),c(e)){var i,r,a=this.cultures,n=e,s=n.length,o=[];for(r=0;s>r;r++){e=f(n[r]);var d,l=e.split(";");i=f(l[0]),1===l.length?d=1:(e=f(l[1]),0===e.indexOf("q=")?(e=e.substr(2),d=parseFloat(e),d=isNaN(d)?0:d):d=1),o.push({lang:i,pri:d})}for(o.sort(function(e,t){return e.pri<t.pri?1:-1}),r=0;s>r;r++)if(i=o[r].lang,t=a[i])return t;for(r=0;s>r;r++)for(i=o[r].lang;;){var u=i.lastIndexOf("-");if(-1===u)break;if(i=i.substr(0,u),t=a[i])return t}for(r=0;s>r;r++){i=o[r].lang;for(var h in a){var p=a[h];if(p.language==i)return p}}}else if("object"==typeof e)return e;return t||null},i.format=function(e,t,i){return culture=this.findClosestCulture(i),e instanceof Date?e=y(e,t,culture):"number"==typeof e&&(e=_(e,t,culture)),e},i.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures["default"].messages[e]},i.parseDate=function(e,t,i){i=this.findClosestCulture(i);var r,a,n;if(t){if("string"==typeof t&&(t=[t]),t.length)for(var s=0,o=t.length;o>s;s++){var d=t[s];if(d&&(r=k(e,d,i)))break}}else{n=i.calendar.patterns;for(a in n)if(r=k(e,n[a],i))break}return r||null},i.parseInt=function(e,t,r){return g(i.parseFloat(e,t,r))},i.parseFloat=function(e,t,i){"number"!=typeof t&&(i=t,t=10);var s=this.findClosestCulture(i),o=0/0,d=s.numberFormat;if(e.indexOf(s.numberFormat.currency.symbol)>-1&&(e=e.replace(s.numberFormat.currency.symbol,""),e=e.replace(s.numberFormat.currency["."],s.numberFormat["."])),e=f(e),a.test(e))o=parseFloat(e);else if(!t&&r.test(e))o=parseInt(e,16);else{var l=C(e,d,d.pattern[0]),c=l[0],u=l[1];""===c&&"(n)"!==d.pattern[0]&&(l=C(e,d,"(n)"),c=l[0],u=l[1]),""===c&&"-n"!==d.pattern[0]&&(l=C(e,d,"-n"),c=l[0],u=l[1]),c=c||"+";var h,p,g=u.indexOf("e");0>g&&(g=u.indexOf("E")),0>g?(p=u,h=null):(p=u.substr(0,g),h=u.substr(g+1));var m,v,b=d["."],y=p.indexOf(b);0>y?(m=p,v=null):(m=p.substr(0,y),v=p.substr(y+b.length));var _=d[","];m=m.split(_).join("");var w=_.replace(/\u00A0/g," ");_!==w&&(m=m.split(w).join(""));var D=c+m;if(null!==v&&(D+="."+v),null!==h){var j=C(h,d,"-n");D+="e"+(j[0]||"+")+j[1]}n.test(D)&&(o=parseFloat(D))}return o},i.culture=function(e){return e!==t&&(this.cultureSelector=e),this.findClosestCulture(e)||this.culture["default"]}})(this);