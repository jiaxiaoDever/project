/*!
* yhui 1.3.0beta
* jquery.yhScrollTab.js
* 2013-04-23
*/
(function(t){t.widget("yhui.yhScrollTab",{version:"1.3.0beta",options:{duration:500,selected:0,fillSpace:!1,height:300,select:null},_create:function(){var e=this;this.ul=this.element.children("ul").eq(0),this.li=t(">li:has(a[href])",this.ul),this.titles={},this.tops={},this.anchors=this.li.map(function(){var i=t("a",this),a=i[0].href.match(/#([\w-]+)$/i)[1];return e.titles[a]=i.text(),i[0]}),this.panelContainer=this.element.children("div"),this.panel=this.panelContainer.children("div"),this._parse(e),this._events(e),this.select(this.panel[0].id)},_init:function(){this.element.children("div").height(this.options.height)},_parse:function(e){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all yhui-scrolltabs"),this.ul.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.li.addClass("ui-state-default ui-corner-top"),this.panelContainer.addClass("ui-widget-content yhui-scrolltabs-panelContainer"),this.panel.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom yhui-scrolltabs-panel").each(function(){var i=t("<h3></h3>",{id:this.id+"_title",text:e.titles[this.id],"class":"ui-widget-header ui-corner-all yhui-scrolltabs-title"});t(this).wrap("<div></div>").parent().prepend(i)}),this.panel.each(function(){e.tops[this.id]=t(this).parent().position().top})},_events:function(e){var i=function(t,e){e.is(":not(.ui-state-disabled)")&&e.addClass("ui-state-"+t)},a=function(t,e){e.removeClass("ui-state-"+t)};this.li.on("mouseover.yhScrollTabs",function(){i("hover",t(this))}).on("mouseout.yhScrollTabs",function(){a("hover",t(this))}),this.anchors.on("click.yhScrollTabs",function(t){t.preventDefault()}),this.element.on("click.yhScrollTabs","a",function(){var t=this.href.match(/#([\w-]+)$/i)[1];e.panelContainer.off("scroll"),e.select(t)}),this.panelContainer.on("scroll.yhScrollTabs",{self:e},e._scrollEvent)},_scrollEvent:function(){},_destroy:this.destroy,destroy:function(){this._destroy()},add:function(){},select:function(e){var i=(this.anchors.parent("li").removeClass("ui-state-active").filter(function(){return t(this).has('a[href$="#'+e+'"]').length&&this}).addClass("ui-state-active"),this);this.panel.prev("h3").removeClass("yhui-scrolltabs-actived").filter(function(){return this.id===e+"_title"}).addClass("yhui-scrolltabs-actived"),this.panelContainer.animate({scrollTop:this.tops[e]},function(){i.panelContainer.off("scroll").on("scroll.yhScrollTabs",i._scrollEvent)})}})})(jQuery);